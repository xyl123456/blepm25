###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.3.10338/W32 for 8051         14/Sep/2017  19:14:15 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  E:\PM2.5\Projects\zstack\Samples\GenericApp\Source #
#                          \GenericApp.c                                      #
#    Command line       =  -f E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2 #
#                          530DB\..\..\..\Tools\CC2530DB\f8wEndev.cfg         #
#                          (-DCPU32MHZ -DROOT=__near_func -DBLINK_LEDS) -f    #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg           #
#                          (-DSECURE=0 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR      #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFFF                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116 "-DCONST=const __code"    #
#                          -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=FALSE     #
#                          -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100            #
#                          -DRESPONSE_POLL_RATE=100) -DREJOIN_POLL_RATE=440   #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\Source #
#                          \GenericApp.c -D ZIGBEEPRO -D NWK_AUTO_POLL -D     #
#                          ZTOOL_P1 -D xMT_TASK -D MT_SYS_FUNC -D             #
#                          MT_ZDO_FUNC -D xPOWER_SAVING -lC                   #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\EndDeviceEB-Pro\List\ -lA                       #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\EndDeviceEB-Pro\List\ --diag_suppress           #
#                          Pe001,Pa010 -o E:\PM2.5\Projects\zstack\Samples\Ge #
#                          nericApp\CC2530DB\EndDeviceEB-Pro\Obj\ -e --debug  #
#                          --core=plain --dptr=16,1 --data_model=large        #
#                          --code_model=banked --calling_convention=xdata_ree #
#                          ntrant --place_constants=data_rom                  #
#                          --nr_virtual_regs 16 -I E:\PM2.5\Projects\zstack\S #
#                          amples\GenericApp\CC2530DB\ -I                     #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\SOURCE\ -I E:\PM2.5\Projects\zstack\Samples\ #
#                          GenericApp\CC2530DB\..\..\..\ZMAIN\TI2530DB\ -I    #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\..\..\COMPONENTS\MT\ -I                #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\..\..\COMPONENTS\HAL\INCLUDE\ -I       #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\..\..\COMPONENTS\HAL\TARGET\CC2530EB\  #
#                          -I E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2 #
#                          530DB\..\..\..\..\..\COMPONENTS\OSAL\MCU\CCSOC\    #
#                          -I E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2 #
#                          530DB\..\..\..\..\..\COMPONENTS\OSAL\INCLUDE\ -I   #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\..\..\COMPONENTS\STACK\AF\ -I          #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\..\..\COMPONENTS\STACK\NWK\ -I         #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\..\..\COMPONENTS\STACK\SEC\ -I         #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\..\..\COMPONENTS\STACK\SAPI\ -I        #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\..\..\COMPONENTS\STACK\SYS\ -I         #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\..\..\COMPONENTS\STACK\ZDO\ -I         #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\..\..\COMPONENTS\ZMAC\F8W\ -I          #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\..\..\COMPONENTS\ZMAC\ -I              #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\..\..\COMPONENTS\SERVICES\SADDR\ -I    #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\..\..\COMPONENTS\SERVICES\SDATA\ -I    #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\..\..\COMPONENTS\MAC\INCLUDE\ -I       #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\..\..\COMPONENTS\MAC\HIGH_LEVEL\ -I    #
#                          E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\..\..\COMPONENTS\MAC\LOW_LEVEL\srf04\  #
#                          -I E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2 #
#                          530DB\..\..\..\..\..\COMPONENTS\MAC\LOW_LEVEL\srf0 #
#                          4\SINGLE_CHIP\ -Ohz                                #
#    List file          =  E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\EndDeviceEB-Pro\List\GenericApp.lst             #
#    Object file        =  E:\PM2.5\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\EndDeviceEB-Pro\Obj\GenericApp.r51              #
#                                                                             #
#                                                                             #
###############################################################################

E:\PM2.5\Projects\zstack\Samples\GenericApp\Source\GenericApp.c
      1          /**************************************************************************************************
      2            Filename:       GenericApp.c
      3            Revised:        $Date: 2009-03-18 15:56:27 -0700 (Wed, 18 Mar 2009) $
      4            Revision:       $Revision: 19453 $
      5          
      6            Description:    Generic Application (no Profile).
      7          
      8          
      9            Copyright 2004-2009 Texas Instruments Incorporated. All rights reserved.
     10          
     11            IMPORTANT: Your use of this Software is limited to those specific rights
     12            granted under the terms of a software license agreement between the user
     13            who downloaded the software, his/her employer (which must be your employer)
     14            and Texas Instruments Incorporated (the "License").  You may not use this
     15            Software unless you agree to abide by the terms of the License. The License
     16            limits your use, and you acknowledge, that the Software may not be modified,
     17            copied or distributed unless embedded on a Texas Instruments microcontroller
     18            or used solely and exclusively in conjunction with a Texas Instruments radio
     19            frequency transceiver, which is integrated into your product.  Other than for
     20            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     21            works of, modify, distribute, perform, display or sell this Software and/or
     22            its documentation for any purpose.
     23          
     24            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     25            PROVIDED AS IS?WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, 
     26            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE, 
     27            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     28            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     29            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     30            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     31            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     32            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     33            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     34            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     35          
     36            Should you have any questions regarding your right to use this Software,
     37            contact Texas Instruments Incorporated at www.TI.com. 
     38          **************************************************************************************************/
     39          
     40          /*********************************************************************
     41            This application isn't intended to do anything useful, it is
     42            intended to be a simple example of an application's structure.
     43          
     44            This application sends "Hello World" to another "Generic"
     45            application every 15 seconds.  The application will also
     46            receive "Hello World" packets.
     47          
     48            The "Hello World" messages are sent/received as MSG type message.
     49          
     50            This applications doesn't have a profile, so it handles everything
     51            directly - itself.
     52          
     53            Key control:
     54              SW1:
     55              SW2:  initiates end device binding
     56              SW3:
     57              SW4:  initiates a match description request
     58          *********************************************************************/
     59          
     60          /*********************************************************************
     61           * INCLUDES
     62           */
     63          #include "OSAL.h"
     64          #include "AF.h"
     65          #include "ZDApp.h"
     66          #include "ZDObject.h"
     67          #include "ZDProfile.h"
     68          
     69          #include "GenericApp.h"
     70          #include "DebugTrace.h"
     71          
     72          #if !defined( WIN32 )
     73            #include "OnBoard.h"
     74          #endif
     75          
     76          /* HAL */
     77          #include "hal_lcd.h"
     78          #include "hal_led.h"
     79          #include "hal_key.h"
     80          #include "hal_uart.h"
     81          #include "hal_adc.h"
     82          #include "OSAL_Nv.h"
     83          #include "sht10.h"
     84          #include "bh1750.h"
     85          #include "types.h"
     86          
     87          /*********************************************************************
     88           * MACROS
     89           */
     90          #define HAL_LED_OFF   1
     91          #define HAL_LED_ON    0
     92          
     93          // This is the max byte count per OTA message.
     94          #if !defined( SERIAL_APP_TX_MAX )
     95          #define SERIAL_APP_TX_MAX  80
     96          #endif
     97          
     98          /*********************************************************************
     99           * CONSTANTS
    100           */
    101          
    102          /*********************************************************************
    103           * TYPEDEFS
    104           */
    105          
    106          /*********************************************************************
    107           * GLOBAL VARIABLES
    108           */
    109          
    110          // This list should be filled with Application specific Cluster IDs.

   \                                 In  segment XDATA_ROM_C, align 1
    111          const cId_t GenericApp_ClusterList[GENERICAPP_MAX_CLUSTERS] =
   \                     GenericApp_ClusterList:
   \   000000   0100         DW 1
    112          {
    113            GENERICAPP_CLUSTERID
    114          };
    115          

   \                                 In  segment XDATA_ROM_C, align 1
    116          const SimpleDescriptionFormat_t GenericApp_SimpleDesc =
   \                     GenericApp_SimpleDesc:
   \   000000   0A           DB 10
   \   000001   040F         DW 3844
   \   000003   0100         DW 1
   \   000005   00           DB 0
   \   000006   01           DB 1
   \   000007   ....         DW GenericApp_ClusterList
   \   000009   01           DB 1
   \   00000A   ....         DW GenericApp_ClusterList
    117          {
    118            GENERICAPP_ENDPOINT,              //  int Endpoint;
    119            GENERICAPP_PROFID,                //  uint16 AppProfId[2];
    120            GENERICAPP_DEVICEID,              //  uint16 AppDeviceId[2];
    121            GENERICAPP_DEVICE_VERSION,        //  int   AppDevVer:4;
    122            GENERICAPP_FLAGS,                 //  int   AppFlags:4;
    123            GENERICAPP_MAX_CLUSTERS,          //  byte  AppNumInClusters;
    124            (cId_t *)GenericApp_ClusterList,  //  byte *pAppInClusterList;
    125            GENERICAPP_MAX_CLUSTERS,          //  byte  AppNumInClusters;
    126            (cId_t *)GenericApp_ClusterList   //  byte *pAppInClusterList;
    127          };
    128          
    129          // This is the Endpoint/Interface description.  It is defined here, but
    130          // filled-in in GenericApp_Init().  Another way to go would be to fill
    131          // in the structure here and make it a "const" (in code space).  The
    132          // way it's defined in this sample app it is define in RAM.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    133          endPointDesc_t GenericApp_epDesc;
   \                     GenericApp_epDesc:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z
    134          
    135          /*********************************************************************
    136           * EXTERNAL VARIABLES
    137           */
    138          
    139          /*********************************************************************
    140           * EXTERNAL FUNCTIONS
    141           */
    142          
    143          /*********************************************************************
    144           * LOCAL VARIABLES
    145           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    146          byte GenericApp_TaskID;   // Task ID for internal task/event processing
   \                     GenericApp_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    147                                    // This variable will be received when
    148                                    // GenericApp_Init() is called.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    149          devStates_t GenericApp_NwkState;
   \                     GenericApp_NwkState:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    150          
    151          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    152          byte GenericApp_TransID;  // This is the unique message ID (counter)
   \                     GenericApp_TransID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    153          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    154          afAddrType_t GenericApp_DstAddr;
   \                     GenericApp_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    155          byte RxBuf[SERIAL_APP_TX_MAX+1];
   \                     RxBuf:
   \   000000                DS 81
   \   000051                REQUIRE __INIT_XDATA_Z
    156          
    157          
    158          /*********************************************************************
    159           * 涉及的函数*/
    160          void GenericApp_HandleCombineKeys(uint16 keys, uint8 keyCounts);
    161          /*********************************************************************
    162           * APP design
    163           */
    164          //在线状态

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    165          static uint8 running_state;
   \                     running_state:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    166          //CRC校验码

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    167          unsigned int Crc_tmp=0;
   \                     Crc_tmp:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    168          //设置时间周期
    169          //static uint16 Hour_time_cnt=0;
    170          //static uint8 Day_time_cnt=0;
    171          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    172          static uint8 Min_time_cnt=0;
   \                     Min_time_cnt:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    173          /*********************************************************************
    174           * 设备采集数据
    175           */
    176          //static unsigned char Cmd_type;//报文类型

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    177          static unsigned char Dev_mac[4]={0x00,0x00,0x00,0x00};//设备ID号
   \                     Dev_mac:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z
    178          #ifdef QTJC_DEV
    179          static unsigned char TVOC_data[3];//甲醛的值
    180          static unsigned char CO2_data[3];//co2的值
    181          #endif
    182          
    183          #ifdef POWER_TEST

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    184          static unsigned char POW_data[3];//电量的值
   \                     POW_data:
   \   000000                DS 3
   \   000003                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    185          static unsigned char POW_sta[3];//电池充电状态 
   \                     POW_sta:
   \   000000                DS 3
   \   000003                REQUIRE __INIT_XDATA_Z
    186          #endif
    187          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    188          static unsigned char PM25_data[3]={0x01,0x00,0x00};//PM2.5的值
   \                     PM25_data:
   \   000000                DS 3
   \   000003                REQUIRE `?<Initializer for PM25_data>`
   \   000003                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    189          static unsigned char PM03_data[3]={0x0E,0x00,0x00};//PM0.3的值
   \                     PM03_data:
   \   000000                DS 3
   \   000003                REQUIRE `?<Initializer for PM03_data>`
   \   000003                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    190          static unsigned char TEM_data[3]={0x03,0x00,0x00};//温度的值
   \                     TEM_data:
   \   000000                DS 3
   \   000003                REQUIRE `?<Initializer for TEM_data>`
   \   000003                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    191          static unsigned char HUM_data[3]={0x04,0x00,0x00};//湿度的值
   \                     HUM_data:
   \   000000                DS 3
   \   000003                REQUIRE `?<Initializer for HUM_data>`
   \   000003                REQUIRE __INIT_XDATA_I
    192          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    193          static unsigned char Headline[2]={0xEB,0x90};
   \                     Headline:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for Headline>`
   \   000002                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    194          static unsigned char Tialline[2]={0x0D,0x0A};
   \                     Tialline:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for Tialline>`
   \   000002                REQUIRE __INIT_XDATA_I
    195          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    196          static unsigned char Head_up_len[2]={0x00,0x0B};//心跳数据长度0X0B
   \                     Head_up_len:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for Head_up_len>`
   \   000002                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    197          static unsigned char Rejest_up_len[2]={0x00,0x14};//数据注册上报长度0X14，身份登记
   \                     Rejest_up_len:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for Rejest_up_len>`
   \   000002                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    198          static unsigned char Data_up_len[2]={0x00,0x1D};//数据上报长度0x1D
   \                     Data_up_len:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for Data_up_len>`
   \   000002                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    199          static unsigned char Confirm_up_len[2]={0x00,0x0B};//时间设置确认
   \                     Confirm_up_len:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for Confirm_up_len>`
   \   000002                REQUIRE __INIT_XDATA_I
    200          //static unsigned char Time_dp_len[2]={0x00,0x15};
    201          //static unsigned char Dev_dp_len[2]={0x00,0x0F};

   \                                 In  segment XDATA_I, align 1, keep-with-next
    202          static unsigned char Dev_up_len[2]={0x00,0x0B};//设备ID写入返回长度
   \                     Dev_up_len:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for Dev_up_len>`
   \   000002                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    203          static unsigned char Soft_version[3]={0x01,0x00,0x00};//软件版本号
   \                     Soft_version:
   \   000000                DS 3
   \   000003                REQUIRE `?<Initializer for Soft_version>`
   \   000003                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    204          static unsigned char Hard_version[3]={0x01,0x00,0x00};//硬件版本号
   \                     Hard_version:
   \   000000                DS 3
   \   000003                REQUIRE `?<Initializer for Hard_version>`
   \   000003                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    205          static unsigned char Time_set[3]={0x00,0x00,0x1E};//设置心跳时间30S
   \                     Time_set:
   \   000000                DS 3
   \   000003                REQUIRE `?<Initializer for Time_set>`
   \   000003                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    206          static unsigned char Start_dev[3]={0x81,0x00,0x0A};//开机命令
   \                     Start_dev:
   \   000000                DS 3
   \   000003                REQUIRE `?<Initializer for Start_dev>`
   \   000003                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    207          static unsigned char Stop_dev[3]={0x81,0x00,0x0B};//关机命令
   \                     Stop_dev:
   \   000000                DS 3
   \   000003                REQUIRE `?<Initializer for Stop_dev>`
   \   000003                REQUIRE __INIT_XDATA_I
    208          //定义PM2.5激光传感器头信息
    209          //static unsigned char PM25_Head[2]={0x42,0x4D};
    210          //static unsigned char PM25_len[2]={0x00,0x1C};

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    211          static uint8 Receivebuf[40];//设备ID写入命令
   \                     Receivebuf:
   \   000000                DS 40
   \   000028                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    212          static uint8 Rece_len=0;//接收字节数
   \                     Rece_len:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    213          
    214          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    215          Head_up_t     Head_up;
   \                     Head_up:
   \   000000                DS 13
   \   00000D                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    216          Rejest_up_t   Rejest_up;
   \                     Rejest_up:
   \   000000                DS 22
   \   000016                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    217          Data_up_t     Data_up;
   \                     Data_up:
   \   000000                DS 31
   \   00001F                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    218          Confirm_up_t  Confirm_up;
   \                     Confirm_up:
   \   000000                DS 13
   \   00000D                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    219          Time_dp_t     Time_dp;
   \                     Time_dp:
   \   000000                DS 19
   \   000013                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    220          Dev_dp_t      Dev_dp;
   \                     Dev_dp:
   \   000000                DS 13
   \   00000D                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    221          Dev_up_t      Dev_up;
   \                     Dev_up:
   \   000000                DS 13
   \   00000D                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    222          PM25_up_t     Pm25_up;
   \                     Pm25_up:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    223          Dev_control_t Dev_ctl;
   \                     Dev_ctl:
   \   000000                DS 24
   \   000018                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    224          Dev_control_res_t Dev_ctl_res;
   \                     Dev_ctl_res:
   \   000000                DS 24
   \   000018                REQUIRE __INIT_XDATA_Z
    225          /*********************************************************************
    226           * LOCAL FUNCTIONS
    227           */
    228          void GenericApp_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg );
    229          void GenericApp_HandleKeys( byte shift, byte keys );
    230          void GenericApp_MessageMSGCB( afIncomingMSGPacket_t *pckt );
    231          void GenericApp_SendTheMessage( void );
    232          void rxCB(uint8 port,uint8 event);//串口0回调函数
    233          void rxCB1(uint8 port,uint8 event);//串口1回调函数
    234          unsigned int Crc16(uint8 buf[],uint8 len);//crc校验函数
    235          void Heart_up(void);//心跳上传函数
    236          void write_to_nvflash(uint8 buf[]);//将设备ID写入到NVflash
    237          void read_from_nvflash(void);//读取设备ID到NVflash
    238          void Regest_dev(void);//设备通电上报
    239          void Data_up_process(void);//采集数据上报
    240          void Get_gass(void);//获取气体传感器值
    241          void Get_PM25(void);//获取PM2.5
    242          void Get_TEM_HUM();//获取温湿度
    243          void Confirm_up_process(void);//时间校对上传
    244          void Dev_dp_process(uint8 buf[]);//写入设备ID
    245          void Dev_up_process(uint8 buf[]);//设备ID写入上传
    246          void Dev_control_process(uint8 buf[]);//开关机命令
    247          
    248          void Dev_heart_process (uint8 buf[]);//心跳处理函数
    249          
    250          static void Process_data(uint8 buf[],uint8 len);//处理串口数据
    251          #ifdef POWER_TEST
    252          void Get_power(void);
    253          #endif
    254          
    255          void Start_process(void);//开机处理函数
    256          void Stop_process(void);//关机处理函数
    257          
    258          void Sleep_cmd(void);//休眠处理函数
    259          
    260          /*********************************************************************
    261           * NETWORK LAYER CALLBACKS
    262           */
    263          
    264          /*********************************************************************
    265           * PUBLIC FUNCTIONS
    266           */
    267          
    268          /*********************************************************************
    269           * @fn      GenericApp_Init
    270           *
    271           * @brief   Initialization function for the Generic App Task.
    272           *          This is called during initialization and should contain
    273           *          any application specific initialization (ie. hardware
    274           *          initialization/setup, table initialization, power up
    275           *          notificaiton ... ).
    276           *
    277           * @param   task_id - the ID assigned by OSAL.  This ID should be
    278           *                    used to send messages and set timers.
    279           *
    280           * @return  none
    281           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    282          void GenericApp_Init( byte task_id )
   \                     GenericApp_Init:
    283          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 58
   \   000005   74C6         MOV     A,#-0x3a
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
    284            running_state = 0;//系统运行
   \   00000C   90....       MOV     DPTR,#running_state
   \   00000F   E4           CLR     A
   \   000010   F0           MOVX    @DPTR,A
    285            HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );//关闭PM2.5 
   \   000011                ; Setup parameters for call to function HalLedSet
   \   000011   FA           MOV     R2,A
   \   000012   7908         MOV     R1,#0x8
   \   000014   12....       LCALL   ??HalLedSet?relay
    286            HalLedSet ( HAL_LED_3, HAL_LED_MODE_OFF );//关闭电源
   \   000017                ; Setup parameters for call to function HalLedSet
   \   000017   7A00         MOV     R2,#0x0
   \   000019   7904         MOV     R1,#0x4
   \   00001B   12....       LCALL   ??HalLedSet?relay
    287            
    288            halUARTCfg_t uartConfig;
    289            halUARTCfg_t uartConfig1;
    290            
    291            GenericApp_TaskID = task_id;
   \   00001E   EE           MOV     A,R6
   \   00001F   90....       MOV     DPTR,#GenericApp_TaskID
   \   000022   F0           MOVX    @DPTR,A
    292            GenericApp_NwkState = DEV_INIT;
   \   000023   90....       MOV     DPTR,#GenericApp_NwkState
   \   000026   7401         MOV     A,#0x1
   \   000028   F0           MOVX    @DPTR,A
    293            GenericApp_TransID = 0;
   \   000029   90....       MOV     DPTR,#GenericApp_TransID
   \   00002C   E4           CLR     A
   \   00002D   F0           MOVX    @DPTR,A
    294          
    295            // Device hardware initialization can be added here or in main() (Zmain.c).
    296            // If the hardware is application specific - add it here.
    297            // If the hardware is other parts of the device add it in main().
    298          
    299            /*GenericApp_DstAddr.addrMode = (afAddrMode_t)AddrNotPresent;
    300            GenericApp_DstAddr.endPoint = 0;
    301            GenericApp_DstAddr.addr.shortAddr = 0;
    302            */
    303          
    304            // Fill out the endpoint description.
    305            GenericApp_epDesc.endPoint = GENERICAPP_ENDPOINT;
   \   00002E   90....       MOV     DPTR,#GenericApp_epDesc
   \   000031   740A         MOV     A,#0xa
   \   000033   F0           MOVX    @DPTR,A
    306            GenericApp_epDesc.task_id = &GenericApp_TaskID;
   \   000034   A3           INC     DPTR
   \   000035   74..         MOV     A,#GenericApp_TaskID & 0xff
   \   000037   F0           MOVX    @DPTR,A
   \   000038   A3           INC     DPTR
   \   000039   74..         MOV     A,#(GenericApp_TaskID >> 8) & 0xff
   \   00003B   F0           MOVX    @DPTR,A
    307            GenericApp_epDesc.simpleDesc
    308                      = (SimpleDescriptionFormat_t *)&GenericApp_SimpleDesc;
   \   00003C   A3           INC     DPTR
   \   00003D   74..         MOV     A,#GenericApp_SimpleDesc & 0xff
   \   00003F   F0           MOVX    @DPTR,A
   \   000040   A3           INC     DPTR
   \   000041   74..         MOV     A,#(GenericApp_SimpleDesc >> 8) & 0xff
   \   000043   12....       LCALL   ??Subroutine29_0 & 0xFFFF
    309            GenericApp_epDesc.latencyReq = noLatencyReqs;
    310          
    311            // Register the endpoint description with the AF
    312            afRegister( &GenericApp_epDesc );
   \                     ??CrossCallReturnLabel_41:
   \   000046                ; Setup parameters for call to function afRegister
   \   000046   7A..         MOV     R2,#GenericApp_epDesc & 0xff
   \   000048   7B..         MOV     R3,#(GenericApp_epDesc >> 8) & 0xff
   \   00004A   12....       LCALL   ??afRegister?relay
    313          
    314            // Register for all key events - This app will handle all key events
    315            RegisterForKeys( GenericApp_TaskID );
   \   00004D                ; Setup parameters for call to function RegisterForKeys
   \   00004D   90....       MOV     DPTR,#GenericApp_TaskID
   \   000050   E0           MOVX    A,@DPTR
   \   000051   F9           MOV     R1,A
   \   000052   12....       LCALL   ??RegisterForKeys?relay
    316            //UART0,P02 P03
    317            uartConfig.configured           = TRUE;              // 2x30 don't care - see uart driver.
   \   000055   741D         MOV     A,#0x1d
   \   000057   12....       LCALL   ?XSTACK_DISP0_8
   \   00005A   7401         MOV     A,#0x1
   \   00005C   F0           MOVX    @DPTR,A
    318            uartConfig.baudRate             = HAL_UART_BR_9600;
   \   00005D   741E         MOV     A,#0x1e
   \   00005F   12....       LCALL   ?XSTACK_DISP0_8
   \   000062   E4           CLR     A
   \   000063   F0           MOVX    @DPTR,A
    319            uartConfig.flowControl          = FALSE;
   \   000064   741F         MOV     A,#0x1f
   \   000066   12....       LCALL   ?XSTACK_DISP0_8
   \   000069   E4           CLR     A
   \   00006A   F0           MOVX    @DPTR,A
    320            uartConfig.flowControlThreshold = 64;   // 2x30 don't care - see uart driver.
   \   00006B   7420         MOV     A,#0x20
   \   00006D   12....       LCALL   ?XSTACK_DISP0_8
   \   000070   7440         MOV     A,#0x40
   \   000072   12....       LCALL   ??Subroutine29_0 & 0xFFFF
    321            uartConfig.rx.maxBufSize        = 128;  // 2x30 don't care - see uart driver.
   \                     ??CrossCallReturnLabel_44:
   \   000075   7427         MOV     A,#0x27
   \   000077   12....       LCALL   ?XSTACK_DISP0_8
   \   00007A   12....       LCALL   ?Subroutine11 & 0xFFFF
    322            uartConfig.tx.maxBufSize        = 128;  // 2x30 don't care - see uart driver.
   \                     ??CrossCallReturnLabel_46:
   \   00007D   742F         MOV     A,#0x2f
   \   00007F   12....       LCALL   ?XSTACK_DISP0_8
   \   000082   12....       LCALL   ?Subroutine11 & 0xFFFF
    323            uartConfig.idleTimeout          = 6;    // 2x30 don't care - see uart driver.
   \                     ??CrossCallReturnLabel_47:
   \   000085   7422         MOV     A,#0x22
   \   000087   12....       LCALL   ?XSTACK_DISP0_8
   \   00008A   7406         MOV     A,#0x6
   \   00008C   F0           MOVX    @DPTR,A
    324            uartConfig.intEnable            = TRUE; // 2x30 don't care - see uart driver.
   \   00008D   7433         MOV     A,#0x33
   \   00008F   12....       LCALL   ?XSTACK_DISP0_8
   \   000092   7401         MOV     A,#0x1
   \   000094   F0           MOVX    @DPTR,A
    325            uartConfig.callBackFunc         = rxCB;
   \   000095   7438         MOV     A,#0x38
   \   000097   12....       LCALL   ?XSTACK_DISP0_8
   \   00009A   74..         MOV     A,#??rxCB?relay & 0xff
   \   00009C   F0           MOVX    @DPTR,A
   \   00009D   A3           INC     DPTR
   \   00009E   74..         MOV     A,#(??rxCB?relay >> 8) & 0xff
   \   0000A0   F0           MOVX    @DPTR,A
    326            HalUARTOpen (0, &uartConfig); 
   \   0000A1                ; Setup parameters for call to function HalUARTOpen
   \   0000A1   741D         MOV     A,#0x1d
   \   0000A3   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A6   AA82         MOV     R2,DPL
   \   0000A8   AB83         MOV     R3,DPH
   \   0000AA   7900         MOV     R1,#0x0
   \   0000AC   12....       LCALL   ??HalUARTOpen?relay
    327            //UART1 P04 P05
    328            uartConfig1.configured           = TRUE;              // 2x30 don't care - see uart driver.
   \   0000AF   85..82       MOV     DPL,?XSP + 0
   \   0000B2   85..83       MOV     DPH,?XSP + 1
   \   0000B5   7401         MOV     A,#0x1
   \   0000B7   F0           MOVX    @DPTR,A
    329            uartConfig1.baudRate             = HAL_UART_BR_9600;
   \   0000B8   12....       LCALL   ?XSTACK_DISP0_8
   \   0000BB   E4           CLR     A
   \   0000BC   F0           MOVX    @DPTR,A
    330            uartConfig1.flowControl          = FALSE;
   \   0000BD   7402         MOV     A,#0x2
   \   0000BF   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C2   E4           CLR     A
   \   0000C3   F0           MOVX    @DPTR,A
    331            uartConfig1.flowControlThreshold = 64;   // 2x30 don't care - see uart driver.
   \   0000C4   7403         MOV     A,#0x3
   \   0000C6   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C9   7440         MOV     A,#0x40
   \   0000CB   12....       LCALL   ??Subroutine29_0 & 0xFFFF
    332            uartConfig1.rx.maxBufSize        = 128;  // 2x30 don't care - see uart driver.
   \                     ??CrossCallReturnLabel_45:
   \   0000CE   740A         MOV     A,#0xa
   \   0000D0   12....       LCALL   ?XSTACK_DISP0_8
   \   0000D3   12....       LCALL   ?Subroutine11 & 0xFFFF
    333            uartConfig1.tx.maxBufSize        = 128;  // 2x30 don't care - see uart driver.
   \                     ??CrossCallReturnLabel_48:
   \   0000D6   7412         MOV     A,#0x12
   \   0000D8   12....       LCALL   ?XSTACK_DISP0_8
   \   0000DB   12....       LCALL   ?Subroutine11 & 0xFFFF
    334            uartConfig1.idleTimeout          = 6;    // 2x30 don't care - see uart driver.
   \                     ??CrossCallReturnLabel_49:
   \   0000DE   7405         MOV     A,#0x5
   \   0000E0   12....       LCALL   ?XSTACK_DISP0_8
   \   0000E3   7406         MOV     A,#0x6
   \   0000E5   F0           MOVX    @DPTR,A
    335            uartConfig1.intEnable            = TRUE; // 2x30 don't care - see uart driver.
   \   0000E6   7416         MOV     A,#0x16
   \   0000E8   12....       LCALL   ?XSTACK_DISP0_8
   \   0000EB   7401         MOV     A,#0x1
   \   0000ED   F0           MOVX    @DPTR,A
    336            uartConfig1.callBackFunc         = rxCB1;
   \   0000EE   741B         MOV     A,#0x1b
   \   0000F0   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F3   74..         MOV     A,#??rxCB1?relay & 0xff
   \   0000F5   F0           MOVX    @DPTR,A
   \   0000F6   A3           INC     DPTR
   \   0000F7   74..         MOV     A,#(??rxCB1?relay >> 8) & 0xff
   \   0000F9   12....       LCALL   ?Subroutine23 & 0xFFFF
    337            HalUARTOpen (1, &uartConfig1);
   \                     ??CrossCallReturnLabel_26:
   \   0000FC   AA82         MOV     R2,DPL
   \   0000FE   AB83         MOV     R3,DPH
   \   000100   7901         MOV     R1,#0x1
   \   000102   12....       LCALL   ??HalUARTOpen?relay
    338            
    339            read_from_nvflash();//读取NV中的设备ID, to Dev_mac[3]
   \   000105                ; Setup parameters for call to function read_from_nvflash
   \   000105   12....       LCALL   ??read_from_nvflash?relay
    340            // Update the display
    341            /*
    342           //ZDO注册信息
    343            ZDO_RegisterForZDOMsg( GenericApp_TaskID, End_Device_Bind_rsp );
    344            ZDO_RegisterForZDOMsg( GenericApp_TaskID, Match_Desc_rsp );
    345            //osal_set_event(GenericApp_TaskID,GENERICAPP_HUMI_MSG_EVT);
    346            */
    347            /*********************************************************************
    348           * 检测气体，CO2，H2S,甲醛等有害气体
    349           */
    350          #ifdef  QTJC_DEV 
    351            HalAdcSetReference (HAL_ADC_REF_AVDD);
    352            HalAdcInit();//初始化ADC，HAL_ADC_DEC_064
    353          #endif
    354          #ifdef POWER_TEST
    355            HalAdcSetReference (HAL_ADC_REF_AVDD);
   \   000108                ; Setup parameters for call to function HalAdcSetReference
   \   000108   7980         MOV     R1,#-0x80
   \   00010A   12....       LCALL   ??HalAdcSetReference?relay
    356            HalAdcInit();//初始化ADC，HAL_ADC_DEC_064
   \   00010D                ; Setup parameters for call to function HalAdcInit
   \   00010D   12....       LCALL   ??HalAdcInit?relay
    357          #endif
    358            Regest_dev();//数据上报
   \   000110                ; Setup parameters for call to function Regest_dev
   \   000110   12....       LCALL   ??Regest_dev?relay
    359            
    360            //设置周期性事件,心跳事件
    361            /*
    362          osal_start_timerEx( GenericApp_TaskID,
    363                                  GENERICAPP_HEART_EVT,
    364                                  GENERICAPP_SEND_MSG_TIMEOUT );
    365            */
    366          
    367              //设置周期性事件,数据采集上报
    368          osal_start_timerEx( GenericApp_TaskID,
    369                                  GENERICAPP_SEND_DATE_EVT,
    370                                  GENERICAPP_SEND_DATA_TIMEOUT );
   \   000113                ; Setup parameters for call to function osal_start_timerEx
   \   000113   12....       LCALL   ?Subroutine16 & 0xFFFF
    371          }
   \                     ??CrossCallReturnLabel_18:
   \   000116   743A         MOV     A,#0x3a
   \   000118   12....       LCALL   ?DEALLOC_XSTACK8
   \   00011B                REQUIRE ?Subroutine0
   \   00011B                ; // Fall through to label ?Subroutine0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   7F01         MOV     R7,#0x1
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine16:
   \   000000   7C10         MOV     R4,#0x10
   \   000002   7D27         MOV     R5,#0x27
   \   000004   7A10         MOV     R2,#0x10
   \   000006   7B00         MOV     R3,#0x0
   \   000008   90....       MOV     DPTR,#GenericApp_TaskID
   \   00000B   E0           MOVX    A,@DPTR
   \   00000C   F9           MOV     R1,A
   \   00000D   12....       LCALL   ??osal_start_timerEx?relay
   \   000010   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine23:
   \   000000   F0           MOVX    @DPTR,A
   \   000001                ; Setup parameters for call to function HalUARTOpen
   \   000001   85..82       MOV     DPL,?XSP + 0
   \   000004   85..83       MOV     DPH,?XSP + 1
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   7480         MOV     A,#-0x80
   \   000002                REQUIRE ??Subroutine29_0
   \   000002                ; // Fall through to label ??Subroutine29_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine29_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   E4           CLR     A
   \   000003   F0           MOVX    @DPTR,A
   \   000004   22           RET
    372          
    373          /*********************************************************************
    374           * @fn      GenericApp_ProcessEvent
    375           *
    376           * @brief   Generic Application Task event processor.  This function
    377           *          is called to process all events for the task.  Events
    378           *          include timers, messages and any other user defined events.
    379           *
    380           * @param   task_id  - The OSAL assigned task ID.
    381           * @param   events - events to process.  This is a bit map and can
    382           *                   contain more than one event.
    383           *
    384           * @return  none
    385           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    386          UINT16 GenericApp_ProcessEvent( byte task_id, UINT16 events )
   \                     GenericApp_ProcessEvent:
    387          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    388            afIncomingMSGPacket_t *MSGpkt;
    389           (void)task_id;  // Intentionally unreferenced parameter
    390           //GenericApp_TaskID = task_id;
    391          
    392              if ( events & SYS_EVENT_MSG )
   \   000009   5480         ANL     A,#0x80
   \   00000B   6040         JZ      ??GenericApp_ProcessEvent_0
    393              {
    394                MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( GenericApp_TaskID );
   \   00000D                ; Setup parameters for call to function osal_msg_receive
   \   00000D   8024         SJMP    ??GenericApp_ProcessEvent_1
    395                while (MSGpkt)
    396                {
    397                  switch ( MSGpkt->hdr.event ) 
   \                     ??GenericApp_ProcessEvent_2:
   \   00000F   85..82       MOV     DPL,?V0 + 0
   \   000012   85..83       MOV     DPH,?V0 + 1
   \   000015   E0           MOVX    A,@DPTR
   \   000016   64C0         XRL     A,#0xc0
   \   000018   7012         JNZ     ??GenericApp_ProcessEvent_3
    398                  {
    399                    case KEY_CHANGE:
    400                      GenericApp_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
   \   00001A                ; Setup parameters for call to function GenericApp_HandleKeys
   \   00001A   A3           INC     DPTR
   \   00001B   A3           INC     DPTR
   \   00001C   A3           INC     DPTR
   \   00001D   E0           MOVX    A,@DPTR
   \   00001E   FA           MOV     R2,A
   \   00001F   85..82       MOV     DPL,?V0 + 0
   \   000022   85..83       MOV     DPH,?V0 + 1
   \   000025   A3           INC     DPTR
   \   000026   A3           INC     DPTR
   \   000027   E0           MOVX    A,@DPTR
   \   000028   F9           MOV     R1,A
   \   000029   12....       LCALL   ??GenericApp_HandleKeys?relay
    401                    break;
    402                    
    403                  default:
    404                    break;
    405                  }
    406                // Release the memory
    407                osal_msg_deallocate( (uint8 *)MSGpkt );
   \                     ??GenericApp_ProcessEvent_3:
   \   00002C                ; Setup parameters for call to function osal_msg_deallocate
   \   00002C   AA..         MOV     R2,?V0 + 0
   \   00002E   AB..         MOV     R3,?V0 + 1
   \   000030   12....       LCALL   ??osal_msg_deallocate?relay
    408                // Next
    409                MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( GenericApp_TaskID );
   \   000033                ; Setup parameters for call to function osal_msg_receive
   \                     ??GenericApp_ProcessEvent_1:
   \   000033   90....       MOV     DPTR,#GenericApp_TaskID
   \   000036   E0           MOVX    A,@DPTR
   \   000037   F9           MOV     R1,A
   \   000038   12....       LCALL   ??osal_msg_receive?relay
   \   00003B   8A..         MOV     ?V0 + 0,R2
   \   00003D   8B..         MOV     ?V0 + 1,R3
    410              }
   \   00003F   E5..         MOV     A,?V0 + 0
   \   000041   45..         ORL     A,?V0 + 1
   \   000043   70CA         JNZ     ??GenericApp_ProcessEvent_2
    411              // return unprocessed events
    412              return (events ^ SYS_EVENT_MSG);
   \   000045   EE           MOV     A,R6
   \   000046   FA           MOV     R2,A
   \   000047   EF           MOV     A,R7
   \   000048   6480         XRL     A,#0x80
   \                     ??GenericApp_ProcessEvent_4:
   \   00004A   FB           MOV     R3,A
   \   00004B   8041         SJMP    ??GenericApp_ProcessEvent_5
    413              }
    414            //发送数据事件
    415            if ( events & GENERICAPP_SEND_DATE_EVT )
   \                     ??GenericApp_ProcessEvent_0:
   \   00004D   EE           MOV     A,R6
   \   00004E   5410         ANL     A,#0x10
   \   000050   6038         JZ      ??GenericApp_ProcessEvent_6
    416            {
    417              //修改获取PM2.5温湿度
    418              //获取TVOC和CO2
    419              //Get_gass();
    420              //HalUARTWrite(0,Pm25_up.data_buf, 32);
    421              Get_PM25();
   \   000052                ; Setup parameters for call to function Get_PM25
   \   000052   12....       LCALL   ?Subroutine15 & 0xFFFF
    422              Get_TEM_HUM();
    423          #ifdef POWER_TEST
    424              Get_power();
    425          #endif
    426              if(running_state==1)
   \                     ??CrossCallReturnLabel_16:
   \   000055   90....       MOV     DPTR,#running_state
   \   000058   E0           MOVX    A,@DPTR
   \   000059   6401         XRL     A,#0x1
   \   00005B   700D         JNZ     ??GenericApp_ProcessEvent_7
    427              {
    428                Data_up_process();//发送数据
   \   00005D                ; Setup parameters for call to function Data_up_process
   \   00005D   12....       LCALL   ??Data_up_process?relay
    429                running_state=0;
   \   000060   90....       MOV     DPTR,#running_state
   \   000063   E4           CLR     A
   \   000064   F0           MOVX    @DPTR,A
    430                Min_time_cnt=0;
   \   000065   90....       MOV     DPTR,#Min_time_cnt
   \   000068   8015         SJMP    ??GenericApp_ProcessEvent_8
    431              }
    432              else
    433              {
    434                Min_time_cnt++;
   \                     ??GenericApp_ProcessEvent_7:
   \   00006A   90....       MOV     DPTR,#Min_time_cnt
   \   00006D   E0           MOVX    A,@DPTR
   \   00006E   04           INC     A
   \   00006F   F0           MOVX    @DPTR,A
    435              }
    436              if(Min_time_cnt==20)
   \   000070   6414         XRL     A,#0x14
   \   000072   700C         JNZ     ??GenericApp_ProcessEvent_9
    437              {//两分钟后休眠
    438                HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );//关闭PM2.5
   \   000074                ; Setup parameters for call to function HalLedSet
   \   000074   7A00         MOV     R2,#0x0
   \   000076   7908         MOV     R1,#0x8
   \   000078   12....       LCALL   ??HalLedSet?relay
    439                Min_time_cnt=0;
   \   00007B   90....       MOV     DPTR,#Min_time_cnt
   \   00007E   E4           CLR     A
   \                     ??GenericApp_ProcessEvent_8:
   \   00007F   F0           MOVX    @DPTR,A
    440              }
    441              osal_start_timerEx( GenericApp_TaskID,
    442                                  GENERICAPP_SEND_DATE_EVT,
    443                                  GENERICAPP_SEND_DATA_TIMEOUT );
   \                     ??GenericApp_ProcessEvent_9:
   \   000080                ; Setup parameters for call to function osal_start_timerEx
   \   000080   12....       LCALL   ?Subroutine16 & 0xFFFF
    444              return (events ^ GENERICAPP_SEND_DATE_EVT);
   \                     ??CrossCallReturnLabel_19:
   \   000083   EE           MOV     A,R6
   \   000084   6410         XRL     A,#0x10
   \   000086   FA           MOV     R2,A
   \   000087   EF           MOV     A,R7
   \   000088   80C0         SJMP    ??GenericApp_ProcessEvent_4
    445            }
    446             //心跳事件
    447           /*
    448           if ( events & GENERICAPP_HEART_EVT )
    449            {
    450          
    451              //时间设置和计算
    452              Hour_time_cnt++;
    453              if(Hour_time_cnt==2880)
    454              {
    455                Hour_time_cnt=0;
    456                Day_time_cnt++;
    457              }
    458              if(Day_time_cnt==30)
    459              {
    460                Day_time_cnt=0;
    461                Confirm_up_process();//30天时间校对
    462              }
    463              Heart_up();
    464          
    465              
    466              if(running_state==1)
    467              {
    468                Min_time_cnt++;
    469              }
    470             if((Min_time_cnt==50))
    471             {
    472                //Sleep_cmd();//进入休眠模式
    473                Min_time_cnt=0;
    474                running_state=0;
    475             }
    476              osal_start_timerEx( GenericApp_TaskID,
    477                                  GENERICAPP_HEART_EVT, 
    478                                  GENERICAPP_SEND_MSG_TIMEOUT );
    479              return (events ^ GENERICAPP_HEART_EVT);
    480            }
    481          */
    482            return 0;
   \                     ??GenericApp_ProcessEvent_6:
   \   00008A   7A00         MOV     R2,#0x0
   \   00008C   7B00         MOV     R3,#0x0
   \                     ??GenericApp_ProcessEvent_5:
   \   00008E   02....       LJMP    ??Subroutine27_0 & 0xFFFF
    483          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine27_0:
   \   000000   7F04         MOV     R7,#0x4
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine15:
   \   000000   12....       LCALL   ??Get_PM25?relay
   \   000003                ; Setup parameters for call to function Get_TEM_HUM
   \   000003                ; Setup parameters for call to function Get_TEM_HUM
   \   000003   12....       LCALL   ??Get_TEM_HUM?relay
   \   000006                ; Setup parameters for call to function Get_power
   \   000006                ; Setup parameters for call to function Get_power
   \   000006   12....       LCALL   ??Get_power?relay
   \   000009   22           RET
    484          
    485          /*********************************************************************
    486           * Event Generation Functions
    487           */
    488          
    489          /*********************************************************************
    490           * @fn      GenericApp_ProcessZDOMsgs()
    491           *
    492           * @brief   Process response messages
    493           *
    494           * @param   none
    495           *
    496           * @return  none
    497           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    498          void GenericApp_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg )
   \                     GenericApp_ProcessZDOMsgs:
    499          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
    500            switch ( inMsg->clusterID )
   \   000005   EA           MOV     A,R2
   \   000006   240C         ADD     A,#0xc
   \   000008   F582         MOV     DPL,A
   \   00000A   EB           MOV     A,R3
   \   00000B   3400         ADDC    A,#0x0
   \   00000D   F583         MOV     DPH,A
   \   00000F   E0           MOVX    A,@DPTR
   \   000010   F5..         MOV     ?V0 + 0,A
   \   000012   A3           INC     DPTR
   \   000013   E0           MOVX    A,@DPTR
   \   000014   F5..         MOV     ?V0 + 1,A
   \   000016   78..         MOV     R0,#?V0 + 0
   \   000018   12....       LCALL   ?US_SWITCH_SPARSE
   \                     `?<Jumptable for GenericApp_ProcessZDOMsgs>_0`:
   \   00001B   0000         DW        0
   \   00001D   0200         DW        2
   \   00001F   0680         DW        32774
   \   000021   ....         DW        ??GenericApp_ProcessZDOMsgs_0
   \   000023   2080         DW        32800
   \   000025   ....         DW        ??GenericApp_ProcessZDOMsgs_1
   \   000027   ....         DW        ??GenericApp_ProcessZDOMsgs_2
    501            {
    502              case End_Device_Bind_rsp:
    503                if ( ZDO_ParseBindRsp( inMsg ) == ZSuccess )
   \                     ??GenericApp_ProcessZDOMsgs_1:
   \   000029   EA           MOV     A,R2
   \   00002A   2413         ADD     A,#0x13
   \   00002C   F582         MOV     DPL,A
   \   00002E   EB           MOV     A,R3
   \   00002F   3400         ADDC    A,#0x0
   \   000031   F583         MOV     DPH,A
   \   000033   E0           MOVX    A,@DPTR
   \   000034   F8           MOV     R0,A
   \   000035   A3           INC     DPTR
   \   000036   E0           MOVX    A,@DPTR
   \   000037   F583         MOV     DPH,A
   \   000039   8882         MOV     DPL,R0
   \   00003B   E0           MOVX    A,@DPTR
   \   00003C   7009         JNZ     ??GenericApp_ProcessZDOMsgs_3
    504                {
    505                  // Light LED
    506                  HalLedSet( HAL_LED_4, HAL_LED_MODE_ON );
   \   00003E                ; Setup parameters for call to function HalLedSet
   \   00003E   7A01         MOV     R2,#0x1
   \                     ??GenericApp_ProcessZDOMsgs_4:
   \   000040   7908         MOV     R1,#0x8
   \   000042   12....       LCALL   ??HalLedSet?relay
   \   000045   8053         SJMP    ??GenericApp_ProcessZDOMsgs_2
    507                }
    508          #if defined(BLINK_LEDS)
    509                else
    510                {
    511                  // Flash LED to show failure
    512                  HalLedSet ( HAL_LED_4, HAL_LED_MODE_FLASH );
   \                     ??GenericApp_ProcessZDOMsgs_3:
   \   000047                ; Setup parameters for call to function HalLedSet
   \   000047   7A04         MOV     R2,#0x4
   \   000049   80F5         SJMP    ??GenericApp_ProcessZDOMsgs_4
    513                }
    514          #endif
    515                break;
    516          
    517              case Match_Desc_rsp:
    518                {
    519                  ZDO_ActiveEndpointRsp_t *pRsp = ZDO_ParseEPListRsp( inMsg );
   \                     ??GenericApp_ProcessZDOMsgs_0:
   \   00004B                ; Setup parameters for call to function ZDO_ParseEPListRsp
   \   00004B   12....       LCALL   ??ZDO_ParseEPListRsp?relay
   \   00004E   8A..         MOV     ?V0 + 0,R2
   \   000050   8B..         MOV     ?V0 + 1,R3
   \   000052   AE..         MOV     R6,?V0 + 0
   \   000054   AF..         MOV     R7,?V0 + 1
    520                  if ( pRsp )
   \   000056   EE           MOV     A,R6
   \   000057   4F           ORL     A,R7
   \   000058   6040         JZ      ??GenericApp_ProcessZDOMsgs_2
    521                  {
    522                    if ( pRsp->status == ZSuccess && pRsp->cnt )
   \   00005A   8E82         MOV     DPL,R6
   \   00005C   8F83         MOV     DPH,R7
   \   00005E   E0           MOVX    A,@DPTR
   \   00005F   7032         JNZ     ??GenericApp_ProcessZDOMsgs_5
   \   000061   A3           INC     DPTR
   \   000062   A3           INC     DPTR
   \   000063   A3           INC     DPTR
   \   000064   E0           MOVX    A,@DPTR
   \   000065   602C         JZ      ??GenericApp_ProcessZDOMsgs_5
    523                    {
    524                      GenericApp_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   000067   90....       MOV     DPTR,#GenericApp_DstAddr + 8
   \   00006A   7402         MOV     A,#0x2
   \   00006C   F0           MOVX    @DPTR,A
    525                      GenericApp_DstAddr.addr.shortAddr = pRsp->nwkAddr;
   \   00006D   8E82         MOV     DPL,R6
   \   00006F   8F83         MOV     DPH,R7
   \   000071   A3           INC     DPTR
   \   000072   E0           MOVX    A,@DPTR
   \   000073   F8           MOV     R0,A
   \   000074   A3           INC     DPTR
   \   000075   E0           MOVX    A,@DPTR
   \   000076   F9           MOV     R1,A
   \   000077   90....       MOV     DPTR,#GenericApp_DstAddr
   \   00007A   E8           MOV     A,R0
   \   00007B   F0           MOVX    @DPTR,A
   \   00007C   A3           INC     DPTR
   \   00007D   E9           MOV     A,R1
   \   00007E   F0           MOVX    @DPTR,A
    526                      // Take the first endpoint, Can be changed to search through endpoints
    527                      GenericApp_DstAddr.endPoint = pRsp->epList[0];
   \   00007F   8E82         MOV     DPL,R6
   \   000081   8F83         MOV     DPH,R7
   \   000083   A3           INC     DPTR
   \   000084   A3           INC     DPTR
   \   000085   A3           INC     DPTR
   \   000086   A3           INC     DPTR
   \   000087   E0           MOVX    A,@DPTR
   \   000088   90....       MOV     DPTR,#GenericApp_DstAddr + 9
   \   00008B   F0           MOVX    @DPTR,A
    528          
    529                      // Light LED
    530                      HalLedSet( HAL_LED_4, HAL_LED_MODE_ON );
   \   00008C                ; Setup parameters for call to function HalLedSet
   \   00008C   7A01         MOV     R2,#0x1
   \   00008E   7908         MOV     R1,#0x8
   \   000090   12....       LCALL   ??HalLedSet?relay
    531                    }
    532                    osal_mem_free( pRsp );
   \                     ??GenericApp_ProcessZDOMsgs_5:
   \   000093                ; Setup parameters for call to function osal_mem_free
   \   000093   EE           MOV     A,R6
   \   000094   FA           MOV     R2,A
   \   000095   EF           MOV     A,R7
   \   000096   FB           MOV     R3,A
   \   000097   12....       LCALL   ??osal_mem_free?relay
    533                  }
    534                }
    535                break;
    536            }
    537          }
   \                     ??GenericApp_ProcessZDOMsgs_2:
   \   00009A   80..         SJMP    ??Subroutine26_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine26_0:
   \   000000   7F02         MOV     R7,#0x2
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    538          
    539          /*********************************************************************
    540           * @fn      GenericApp_HandleKeys
    541           *
    542           * @brief   Handles all key events for this device.
    543           *
    544           * @param   shift - true if in shift/alt.
    545           * @param   keys - bit field for key events. Valid entries:
    546           *                 HAL_KEY_SW_4
    547           *                 HAL_KEY_SW_3
    548           *                 HAL_KEY_SW_2
    549           *                 HAL_KEY_SW_1
    550           *
    551           * @return  none
    552           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    553          void GenericApp_HandleKeys( byte shift, byte keys )
   \                     GenericApp_HandleKeys:
    554          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 9
   \   000005   74F7         MOV     A,#-0x9
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
   \   00000C   EA           MOV     A,R2
   \   00000D   FF           MOV     R7,A
    555            zAddrType_t dstAddr;
    556            
    557            // Shift is used to make each button/switch dual purpose.
    558            if ( shift )
   \   00000E   EE           MOV     A,R6
   \   00000F   6003         JZ      $+5
   \   000011   02....       LJMP    ??GenericApp_HandleKeys_0 & 0xFFFF
    559            {
    560              if ( keys & HAL_KEY_SW_1 )
    561              {
    562              }
    563              if ( keys & HAL_KEY_SW_2 )
    564              {
    565              }
    566              if ( keys & HAL_KEY_SW_3 )
    567              {
    568              }
    569              if ( keys & HAL_KEY_SW_6 )
    570              {
    571          
    572              }
    573            }
    574            else
    575            {
    576              if ( keys & HAL_KEY_SW_1 )
    577              {
    578              }
    579          
    580              if ( keys & HAL_KEY_SW_2 )
   \   000014   75....       MOV     ?V0 + 0,#GenericApp_ClusterList & 0xff
   \   000017   75....       MOV     ?V0 + 1,#(GenericApp_ClusterList >> 8) & 0xff
   \   00001A   EF           MOV     A,R7
   \   00001B   A2E1         MOV     C,0xE0 /* A   */.1
   \   00001D   5060         JNC     ??GenericApp_HandleKeys_1
    581              {
    582                HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );
   \   00001F                ; Setup parameters for call to function HalLedSet
   \   00001F   7A00         MOV     R2,#0x0
   \   000021   7908         MOV     R1,#0x8
   \   000023   12....       LCALL   ??HalLedSet?relay
    583          
    584                // Initiate an End Device Bind Request for the mandatory endpoint
    585                dstAddr.addrMode = Addr16Bit;
   \   000026   7408         MOV     A,#0x8
   \   000028   12....       LCALL   ?XSTACK_DISP0_8
   \   00002B   7402         MOV     A,#0x2
   \   00002D   12....       LCALL   ?Subroutine23 & 0xFFFF
    586                dstAddr.addr.shortAddr = 0x0000; // Coordinator
   \                     ??CrossCallReturnLabel_27:
   \   000030   E4           CLR     A
   \   000031   F0           MOVX    @DPTR,A
   \   000032   A3           INC     DPTR
   \   000033   F0           MOVX    @DPTR,A
    587                ZDP_EndDeviceBindReq( &dstAddr, NLME_GetShortAddr(), 
    588                                      GenericApp_epDesc.endPoint,
    589                                      GENERICAPP_PROFID,
    590                                      GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
    591                                      GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
    592                                      FALSE );
   \   000034                ; Setup parameters for call to function NLME_GetShortAddr
   \   000034   12....       LCALL   ??NLME_GetShortAddr?relay
   \   000037   8A..         MOV     ?V0 + 2,R2
   \   000039   8B..         MOV     ?V0 + 3,R3
   \   00003B   AC..         MOV     R4,?V0 + 2
   \   00003D   AD..         MOV     R5,?V0 + 3
   \   00003F                ; Setup parameters for call to function ZDP_EndDeviceBindReq
   \   00003F   75..00       MOV     ?V0 + 2,#0x0
   \   000042   78..         MOV     R0,#?V0 + 2
   \   000044   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000047   78..         MOV     R0,#?V0 + 0
   \   000049   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00004C   75..01       MOV     ?V0 + 2,#0x1
   \   00004F   78..         MOV     R0,#?V0 + 2
   \   000051   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000054   78..         MOV     R0,#?V0 + 0
   \   000056   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000059   78..         MOV     R0,#?V0 + 2
   \   00005B   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00005E   75..04       MOV     ?V0 + 2,#0x4
   \   000061   75..0F       MOV     ?V0 + 3,#0xf
   \   000064   78..         MOV     R0,#?V0 + 2
   \   000066   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000069   90....       MOV     DPTR,#GenericApp_epDesc
   \   00006C   E0           MOVX    A,@DPTR
   \   00006D   F9           MOV     R1,A
   \   00006E   7409         MOV     A,#0x9
   \   000070   12....       LCALL   ?XSTACK_DISP0_8
   \   000073   AA82         MOV     R2,DPL
   \   000075   AB83         MOV     R3,DPH
   \   000077   12....       LCALL   ??ZDP_EndDeviceBindReq?relay
   \   00007A   7409         MOV     A,#0x9
   \   00007C   12....       LCALL   ?DEALLOC_XSTACK8
    593              }
    594          
    595              if ( keys & HAL_KEY_SW_3 )
    596              {
    597              }
    598          
    599              if ( keys & HAL_KEY_SW_4 )
   \                     ??GenericApp_HandleKeys_1:
   \   00007F   EF           MOV     A,R7
   \   000080   A2E3         MOV     C,0xE0 /* A   */.3
   \   000082   504D         JNC     ??GenericApp_HandleKeys_0
    600              {
    601                HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );
   \   000084                ; Setup parameters for call to function HalLedSet
   \   000084   7A00         MOV     R2,#0x0
   \   000086   7908         MOV     R1,#0x8
   \   000088   12....       LCALL   ??HalLedSet?relay
    602                // Initiate a Match Description Request (Service Discovery)
    603                dstAddr.addrMode = AddrBroadcast;
   \   00008B   7408         MOV     A,#0x8
   \   00008D   12....       LCALL   ?XSTACK_DISP0_8
   \   000090   740F         MOV     A,#0xf
   \   000092   12....       LCALL   ?Subroutine10 & 0xFFFF
    604                dstAddr.addr.shortAddr = NWK_BROADCAST_SHORTADDR;
    605                ZDP_MatchDescReq( &dstAddr, NWK_BROADCAST_SHORTADDR,
    606                                  GENERICAPP_PROFID,
    607                                  GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
    608                                  GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
    609                                  FALSE );
   \                     ??CrossCallReturnLabel_6:
   \   000095                ; Setup parameters for call to function ZDP_MatchDescReq
   \   000095   75..00       MOV     ?V0 + 2,#0x0
   \   000098   78..         MOV     R0,#?V0 + 2
   \   00009A   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00009D   78..         MOV     R0,#?V0 + 0
   \   00009F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000A2   75..01       MOV     ?V0 + 2,#0x1
   \   0000A5   78..         MOV     R0,#?V0 + 2
   \   0000A7   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000AA   78..         MOV     R0,#?V0 + 0
   \   0000AC   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000AF   75..04       MOV     ?V0 + 0,#0x4
   \   0000B2   75..0F       MOV     ?V0 + 1,#0xf
   \   0000B5   78..         MOV     R0,#?V0 + 0
   \   0000B7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000BA   7901         MOV     R1,#0x1
   \   0000BC   7CFF         MOV     R4,#-0x1
   \   0000BE   7DFF         MOV     R5,#-0x1
   \   0000C0   7408         MOV     A,#0x8
   \   0000C2   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C5   AA82         MOV     R2,DPL
   \   0000C7   AB83         MOV     R3,DPH
   \   0000C9   12....       LCALL   ??ZDP_MatchDescReq?relay
   \   0000CC   7408         MOV     A,#0x8
   \   0000CE   12....       LCALL   ?DEALLOC_XSTACK8
    610              }
    611            }
    612            if( keys & HAL_KEY_SW_6)
   \                     ??GenericApp_HandleKeys_0:
   \   0000D1   EF           MOV     A,R7
   \   0000D2   A2E5         MOV     C,0xE0 /* A   */.5
   \   0000D4   500C         JNC     ??GenericApp_HandleKeys_2
    613            {
    614              GenericApp_HandleCombineKeys(keys, halGetKeyCount());
   \   0000D6                ; Setup parameters for call to function GenericApp_HandleCombineKeys
   \   0000D6                ; Setup parameters for call to function halGetKeyCount
   \   0000D6   12....       LCALL   ??halGetKeyCount?relay
   \   0000D9   8F..         MOV     ?V0 + 0,R7
   \   0000DB   AA..         MOV     R2,?V0 + 0
   \   0000DD   7B00         MOV     R3,#0x0
   \   0000DF   12....       LCALL   ??GenericApp_HandleCombineKeys?relay
    615            }
    616          }
   \                     ??GenericApp_HandleKeys_2:
   \   0000E2   7409         MOV     A,#0x9
   \   0000E4   02....       LJMP    ?Subroutine1 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   12....       LCALL   ?Subroutine23 & 0xFFFF
   \                     ??CrossCallReturnLabel_28:
   \   000003   74FF         MOV     A,#-0x1
   \   000005   F0           MOVX    @DPTR,A
   \   000006   A3           INC     DPTR
   \   000007   F0           MOVX    @DPTR,A
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine27_0
   \   000003                ; // Fall through to label ??Subroutine27_0
    617          
    618          /*********************************************************************
    619           * LOCAL FUNCTIONS
    620           */
    621          
    622          /*********************************************************************
    623           * @fn      GenericApp_MessageMSGCB
    624           *
    625           * @brief   Data message processor callback.  This function processes
    626           *          any incoming data - probably from other devices.  So, based
    627           *          on cluster ID, perform the intended action.
    628           *
    629           * @param   none
    630           *
    631           * @return  none
    632           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    633          void GenericApp_MessageMSGCB( afIncomingMSGPacket_t *pkt )
   \                     GenericApp_MessageMSGCB:
    634          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
    635            
    636          }
   \   000000   02....       LJMP    ?BRET
    637          
    638          /*********************************************************************
    639           * @fn      GenericApp_SendTheMessage
    640           *
    641           * @brief   Send "the" message.
    642           *
    643           * @param   none
    644           *
    645           * @return  none
    646           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine26_0
   \   000003                ; // Fall through to label ??Subroutine26_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    647          void GenericApp_SendTheMessage( void )
   \                     GenericApp_SendTheMessage:
    648          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 12
   \   000005   74F4         MOV     A,#-0xc
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    649            afAddrType_t P2P_DstAddr;
    650            P2P_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   00000A   7408         MOV     A,#0x8
   \   00000C   12....       LCALL   ?XSTACK_DISP0_8
   \   00000F   7402         MOV     A,#0x2
   \   000011   F0           MOVX    @DPTR,A
    651            P2P_DstAddr.endPoint = GENERICAPP_ENDPOINT;
   \   000012   7409         MOV     A,#0x9
   \   000014   12....       LCALL   ?XSTACK_DISP0_8
   \   000017   740A         MOV     A,#0xa
   \   000019   12....       LCALL   ?Subroutine10 & 0xFFFF
    652            P2P_DstAddr.addr.shortAddr = 0xFFFF; //终端短地址在LCD上有显示，此处换成终端短地址就可以点播了。
    653          
    654            if ( AF_DataRequest( &P2P_DstAddr, &GenericApp_epDesc,
    655                                 GENERICAPP_CLUSTERID,
    656                                 1,
    657                                 RxBuf,
    658                                 &GenericApp_TransID,
    659                                 AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \                     ??CrossCallReturnLabel_7:
   \   00001C                ; Setup parameters for call to function AF_DataRequest
   \   00001C   75..1E       MOV     ?V0 + 0,#0x1e
   \   00001F   78..         MOV     R0,#?V0 + 0
   \   000021   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000024   75....       MOV     ?V0 + 0,#GenericApp_TransID & 0xff
   \   000027   75....       MOV     ?V0 + 1,#(GenericApp_TransID >> 8) & 0xff
   \   00002A   78..         MOV     R0,#?V0 + 0
   \   00002C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00002F   75....       MOV     ?V0 + 0,#RxBuf & 0xff
   \   000032   75....       MOV     ?V0 + 1,#(RxBuf >> 8) & 0xff
   \   000035   78..         MOV     R0,#?V0 + 0
   \   000037   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00003A   75..01       MOV     ?V0 + 0,#0x1
   \   00003D   75..00       MOV     ?V0 + 1,#0x0
   \   000040   78..         MOV     R0,#?V0 + 0
   \   000042   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000045   78..         MOV     R0,#?V0 + 0
   \   000047   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00004A   7920         MOV     R1,#0x20
   \   00004C   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   00004E   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   000050   7409         MOV     A,#0x9
   \   000052   12....       LCALL   ?XSTACK_DISP0_8
   \   000055   AA82         MOV     R2,DPL
   \   000057   AB83         MOV     R3,DPH
   \   000059   12....       LCALL   ??AF_DataRequest?relay
   \   00005C   7409         MOV     A,#0x9
   \   00005E   12....       LCALL   ?DEALLOC_XSTACK8
    660            {
    661              // Successfully requested to be sent.
    662            }
    663            else
    664            {
    665              // Error occurred in request to send.
    666            }
    667          }
   \   000061   740C         MOV     A,#0xc
   \   000063   02....       LJMP    ?Subroutine2 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    668          void GenericApp_HandleCombineKeys(uint16 keys, uint8 keyCounts)
   \                     GenericApp_HandleCombineKeys:
    669          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FE           MOV     R6,A
    670            if(keys & HAL_KEY_SW_6)
   \   000007   EA           MOV     A,R2
   \   000008   5420         ANL     A,#0x20
   \   00000A   6026         JZ      ??GenericApp_HandleCombineKeys_0
    671            {
    672              switch( keyCounts)
   \   00000C   EE           MOV     A,R6
   \   00000D   6005         JZ      ??GenericApp_HandleCombineKeys_1
   \   00000F   14           DEC     A
   \   000010   600D         JZ      ??GenericApp_HandleCombineKeys_2
   \   000012   801E         SJMP    ??GenericApp_HandleCombineKeys_0
    673              {
    674              case 0:
    675                 HalLedSet( HAL_LED_3, HAL_LED_MODE_OFF );
   \                     ??GenericApp_HandleCombineKeys_1:
   \   000014                ; Setup parameters for call to function HalLedSet
   \   000014   7A00         MOV     R2,#0x0
   \   000016   7904         MOV     R1,#0x4
   \   000018   12....       LCALL   ??HalLedSet?relay
    676                 HalLedSet( HAL_LED_4, HAL_LED_MODE_OFF );
   \   00001B                ; Setup parameters for call to function HalLedSet
   \   00001B   7A00         MOV     R2,#0x0
   \   00001D   800E         SJMP    ??GenericApp_HandleCombineKeys_3
    677                break;
    678              case 1:
    679                  running_state=1;
   \                     ??GenericApp_HandleCombineKeys_2:
   \   00001F   90....       MOV     DPTR,#running_state
   \   000022   7401         MOV     A,#0x1
   \   000024   F0           MOVX    @DPTR,A
    680                  HalLedSet( HAL_LED_3, HAL_LED_MODE_ON );
   \   000025                ; Setup parameters for call to function HalLedSet
   \   000025   FA           MOV     R2,A
   \   000026   7904         MOV     R1,#0x4
   \   000028   12....       LCALL   ??HalLedSet?relay
    681                  HalLedSet( HAL_LED_4, HAL_LED_MODE_ON );
   \   00002B                ; Setup parameters for call to function HalLedSet
   \   00002B   7A01         MOV     R2,#0x1
   \                     ??GenericApp_HandleCombineKeys_3:
   \   00002D   7908         MOV     R1,#0x8
   \   00002F   12....       LCALL   ??HalLedSet?relay
    682                break;
    683              default: break;
    684              }
    685            }
    686          }
   \                     ??GenericApp_HandleCombineKeys_0:
   \   000032   02....       LJMP    ?Subroutine0 & 0xFFFF
    687          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    688          static void rxCB(uint8 port,uint8 event)
   \                     rxCB:
    689          { 
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 40
   \   000005   74D8         MOV     A,#-0x28
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    690            uint8 Uartbuf[40];//串口字符缓存区
    691            uint8 uartlen=0;
    692            uartlen = HalUARTRead(0,Uartbuf,sizeof(Uartbuf));
   \   00000A                ; Setup parameters for call to function HalUARTRead
   \   00000A   7C28         MOV     R4,#0x28
   \   00000C   7D00         MOV     R5,#0x0
   \   00000E   85..82       MOV     DPL,?XSP + 0
   \   000011   85..83       MOV     DPH,?XSP + 1
   \   000014   AA82         MOV     R2,DPL
   \   000016   AB83         MOV     R3,DPH
   \   000018   7900         MOV     R1,#0x0
   \   00001A   12....       LCALL   ??HalUARTRead?relay
   \   00001D   EA           MOV     A,R2
   \   00001E   F5..         MOV     ?V0 + 3,A
    693            if(uartlen>0){
   \   000020   7003         JNZ     $+5
   \   000022   02....       LJMP    ??rxCB_0 & 0xFFFF
    694              if((Uartbuf[0]==0xEB)&&(Uartbuf[uartlen-1]==0x0A)){
   \   000025   F5..         MOV     ?V0 + 0,A
   \   000027   85..82       MOV     DPL,?XSP + 0
   \   00002A   85..83       MOV     DPH,?XSP + 1
   \   00002D   E582         MOV     A,DPL
   \   00002F   25..         ADD     A,?V0 + 0
   \   000031   F8           MOV     R0,A
   \   000032   E583         MOV     A,DPH
   \   000034   3400         ADDC    A,#0x0
   \   000036   F9           MOV     R1,A
   \   000037   E8           MOV     A,R0
   \   000038   24FF         ADD     A,#-0x1
   \   00003A   FE           MOV     R6,A
   \   00003B   E9           MOV     A,R1
   \   00003C   34FF         ADDC    A,#-0x1
   \   00003E   FF           MOV     R7,A
   \   00003F   8A82         MOV     DPL,R2
   \   000041   AC82         MOV     R4,DPL
   \   000043   7D00         MOV     R5,#0x0
   \   000045   85..82       MOV     DPL,?XSP + 0
   \   000048   A982         MOV     R1,DPL
   \   00004A   AA83         MOV     R2,DPH
   \   00004C   7B00         MOV     R3,#0x0
   \   00004E   E0           MOVX    A,@DPTR
   \   00004F   64EB         XRL     A,#0xeb
   \   000051   7035         JNZ     ??rxCB_1
   \   000053   8E82         MOV     DPL,R6
   \   000055   8F83         MOV     DPH,R7
   \   000057   E0           MOVX    A,@DPTR
   \   000058   640A         XRL     A,#0xa
   \   00005A   702C         JNZ     ??rxCB_1
    695                //表示一帧数据结束,正常数据
    696                Rece_len=uartlen;
   \   00005C   EC           MOV     A,R4
   \   00005D   90....       MOV     DPTR,#Rece_len
   \   000060   F0           MOVX    @DPTR,A
    697                osal_memcpy(Receivebuf,Uartbuf,Rece_len);
   \   000061                ; Setup parameters for call to function osal_memcpy
   \   000061   89..         MOV     ?V0 + 0,R1
   \   000063   8A..         MOV     ?V0 + 1,R2
   \   000065   8B..         MOV     ?V0 + 2,R3
   \   000067   78..         MOV     R0,#?V0 + 0
   \   000069   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00006C   7A..         MOV     R2,#Receivebuf & 0xff
   \   00006E   7B..         MOV     R3,#(Receivebuf >> 8) & 0xff
   \   000070   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_52:
   \   000073   12....       LCALL   ?DEALLOC_XSTACK8
    698                Process_data(Receivebuf,Rece_len);
   \   000076                ; Setup parameters for call to function Process_data
   \   000076   12....       LCALL   ?Subroutine14 & 0xFFFF
    699                 Rece_len=0;
    700                  osal_memset(Receivebuf,0,sizeof(Receivebuf));
   \                     ??CrossCallReturnLabel_14:
   \   000079   7A..         MOV     R2,#Receivebuf & 0xff
   \   00007B   7B..         MOV     R3,#(Receivebuf >> 8) & 0xff
   \   00007D   12....       LCALL   ??osal_memset?relay
    701                  osal_memset(Uartbuf,0,sizeof(Uartbuf));
   \   000080                ; Setup parameters for call to function osal_memset
   \   000080   7C28         MOV     R4,#0x28
   \   000082   7D00         MOV     R5,#0x0
   \   000084   7900         MOV     R1,#0x0
   \   000086   8032         SJMP    ??CrossCallReturnLabel_15
    702              }else{
    703                osal_memcpy(Receivebuf+Rece_len,Uartbuf,uartlen);
   \                     ??rxCB_1:
   \   000088                ; Setup parameters for call to function osal_memcpy
   \   000088   89..         MOV     ?V0 + 0,R1
   \   00008A   8A..         MOV     ?V0 + 1,R2
   \   00008C   8B..         MOV     ?V0 + 2,R3
   \   00008E   78..         MOV     R0,#?V0 + 0
   \   000090   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000093   90....       MOV     DPTR,#Rece_len
   \   000096   E0           MOVX    A,@DPTR
   \   000097   F8           MOV     R0,A
   \   000098   74..         MOV     A,#Receivebuf & 0xff
   \   00009A   28           ADD     A,R0
   \   00009B   FA           MOV     R2,A
   \   00009C   74..         MOV     A,#(Receivebuf >> 8) & 0xff
   \   00009E   3400         ADDC    A,#0x0
   \   0000A0   FB           MOV     R3,A
   \   0000A1   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_53:
   \   0000A4   12....       LCALL   ?DEALLOC_XSTACK8
    704                Rece_len=Rece_len+uartlen;
   \   0000A7   90....       MOV     DPTR,#Rece_len
   \   0000AA   E0           MOVX    A,@DPTR
   \   0000AB   25..         ADD     A,?V0 + 3
   \   0000AD   F0           MOVX    @DPTR,A
    705                if(Uartbuf[uartlen-1]==0x0A){
   \   0000AE   8E82         MOV     DPL,R6
   \   0000B0   8F83         MOV     DPH,R7
   \   0000B2   E0           MOVX    A,@DPTR
   \   0000B3   640A         XRL     A,#0xa
   \   0000B5   7010         JNZ     ??rxCB_0
    706                  //封装结束,处理数据
    707                  Process_data(Receivebuf,Rece_len);
   \   0000B7                ; Setup parameters for call to function Process_data
   \   0000B7   12....       LCALL   ?Subroutine14 & 0xFFFF
    708                  Rece_len=0;
    709                  osal_memset(Uartbuf,0,sizeof(Uartbuf));
    710                }
    711              }
    712            }
   \                     ??CrossCallReturnLabel_15:
   \   0000BA   85..82       MOV     DPL,?XSP + 0
   \   0000BD   85..83       MOV     DPH,?XSP + 1
   \   0000C0   AA82         MOV     R2,DPL
   \   0000C2   AB83         MOV     R3,DPH
   \   0000C4   12....       LCALL   ??osal_memset?relay
    713          }
   \                     ??rxCB_0:
   \   0000C7   7428         MOV     A,#0x28
   \   0000C9   02....       LJMP    ?Subroutine1 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine14:
   \   000000   90....       MOV     DPTR,#Rece_len
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F9           MOV     R1,A
   \   000005   7A..         MOV     R2,#Receivebuf & 0xff
   \   000007   7B..         MOV     R3,#(Receivebuf >> 8) & 0xff
   \   000009   12....       LCALL   ??Process_data?relay
   \   00000C   90....       MOV     DPTR,#Rece_len
   \   00000F   E4           CLR     A
   \   000010   F0           MOVX    @DPTR,A
   \   000011                ; Setup parameters for call to function osal_memset
   \   000011                ; Setup parameters for call to function osal_memset
   \   000011   7C28         MOV     R4,#0x28
   \   000013   FD           MOV     R5,A
   \   000014   F9           MOV     R1,A
   \   000015   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine30_0:
   \   000000   12....       LCALL   ??osal_memcpy?relay
   \   000003   7403         MOV     A,#0x3
   \   000005   22           RET
    714          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    715          static void Process_data(uint8 buf[],uint8 len)
   \                     Process_data:
    716          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 40
   \   000005   74D8         MOV     A,#-0x28
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
    717            uint8 Datalen=len;
    718            uint8 Databuf[40];
    719            osal_memcpy(Databuf,buf,Datalen);
   \   00000C                ; Setup parameters for call to function osal_memcpy
   \   00000C   8A..         MOV     ?V0 + 0,R2
   \   00000E   8B..         MOV     ?V0 + 1,R3
   \   000010   75..00       MOV     ?V0 + 2,#0x0
   \   000013   78..         MOV     R0,#?V0 + 0
   \   000015   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000018   8E..         MOV     ?V0 + 0,R6
   \   00001A   AC..         MOV     R4,?V0 + 0
   \   00001C   7D00         MOV     R5,#0x0
   \   00001E   7403         MOV     A,#0x3
   \   000020   12....       LCALL   ?XSTACK_DISP0_8
   \   000023   AA82         MOV     R2,DPL
   \   000025   AB83         MOV     R3,DPH
   \   000027   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_54:
   \   00002A   12....       LCALL   ?DEALLOC_XSTACK8
    720            if(Datalen==24)
   \   00002D   7418         MOV     A,#0x18
   \   00002F   6E           XRL     A,R6
   \   000030   6048         JZ      ??Process_data_0
    721               {
    722                //Dev_control_process(Databuf);
    723                }
    724            else if(Datalen==13)
   \   000032   740D         MOV     A,#0xd
   \   000034   6E           XRL     A,R6
   \   000035   7030         JNZ     ??Process_data_1
    725               {
    726                 if(Databuf[4]==0xFD)
   \   000037   7404         MOV     A,#0x4
   \   000039   12....       LCALL   ?XSTACK_DISP0_8
   \   00003C   E0           MOVX    A,@DPTR
   \   00003D   64FD         XRL     A,#0xfd
   \   00003F   700D         JNZ     ??Process_data_2
    727                 {
    728                 //设备ID修改命令
    729                      Dev_dp_process(Databuf);//处理下发控制设备ID
   \   000041                ; Setup parameters for call to function Dev_dp_process
   \   000041   85..82       MOV     DPL,?XSP + 0
   \   000044   85..83       MOV     DPH,?XSP + 1
   \   000047   AA82         MOV     R2,DPL
   \   000049   AB83         MOV     R3,DPH
   \   00004B   12....       LCALL   ??Dev_dp_process?relay
    730                 }
    731                 if(Databuf[4]==0x01)
   \                     ??Process_data_2:
   \   00004E   7404         MOV     A,#0x4
   \   000050   12....       LCALL   ?XSTACK_DISP0_8
   \   000053   E0           MOVX    A,@DPTR
   \   000054   6401         XRL     A,#0x1
   \   000056   7022         JNZ     ??Process_data_0
    732                 {
    733                 //处理APP心跳  
    734                 Dev_heart_process(Databuf);
   \   000058                ; Setup parameters for call to function Dev_heart_process
   \   000058   85..82       MOV     DPL,?XSP + 0
   \   00005B   85..83       MOV     DPH,?XSP + 1
   \   00005E   AA82         MOV     R2,DPL
   \   000060   AB83         MOV     R3,DPH
   \   000062   12....       LCALL   ??Dev_heart_process?relay
   \   000065   8013         SJMP    ??Process_data_0
    735                    //HalUARTWrite(0, "HELLO", 5);
    736                 }
    737               }
    738                  else {
    739                      Datalen=0;
    740                      osal_memset(Databuf,0,sizeof(Databuf));
   \                     ??Process_data_1:
   \   000067                ; Setup parameters for call to function osal_memset
   \   000067   7C28         MOV     R4,#0x28
   \   000069   7D00         MOV     R5,#0x0
   \   00006B   7900         MOV     R1,#0x0
   \   00006D   85..82       MOV     DPL,?XSP + 0
   \   000070   85..83       MOV     DPH,?XSP + 1
   \   000073   AA82         MOV     R2,DPL
   \   000075   AB83         MOV     R3,DPH
   \   000077   12....       LCALL   ??osal_memset?relay
    741                  }
    742          }
   \                     ??Process_data_0:
   \   00007A                REQUIRE ?Subroutine6
   \   00007A                ; // Fall through to label ?Subroutine6

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   7428         MOV     A,#0x28
   \   000002   02....       LJMP    ??Subroutine35_0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine35_0:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003   7F03         MOV     R7,#0x3
   \   000005   02....       LJMP    ?BANKED_LEAVE_XDATA
    743          
    744          //串口1回调函数,更新激光PM2.5数据

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    745          static void rxCB1(uint8 port,uint8 event)
   \                     rxCB1:
    746          { 
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 40
   \   000005   74D8         MOV     A,#-0x28
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    747            unsigned  char Uartbuf[40];//串口字符缓存区
    748            uint8 uartlen=0;
    749            uartlen = HalUARTRead(1,Uartbuf,sizeof(Uartbuf));
    750              if((uartlen==32)&&(Uartbuf[0]==0x42))
   \   00000A                ; Setup parameters for call to function HalUARTRead
   \   00000A   7C28         MOV     R4,#0x28
   \   00000C   7D00         MOV     R5,#0x0
   \   00000E   85..82       MOV     DPL,?XSP + 0
   \   000011   85..83       MOV     DPH,?XSP + 1
   \   000014   AA82         MOV     R2,DPL
   \   000016   AB83         MOV     R3,DPH
   \   000018   7901         MOV     R1,#0x1
   \   00001A   12....       LCALL   ??HalUARTRead?relay
   \   00001D   EA           MOV     A,R2
   \   00001E   6420         XRL     A,#0x20
   \   000020   7029         JNZ     ??rxCB1_0
   \   000022   85..82       MOV     DPL,?XSP + 0
   \   000025   85..83       MOV     DPH,?XSP + 1
   \   000028   E0           MOVX    A,@DPTR
   \   000029   6442         XRL     A,#0x42
   \   00002B   701E         JNZ     ??rxCB1_0
    751                {
    752                   osal_memcpy(Pm25_up.data_buf,Uartbuf,32);
   \   00002D                ; Setup parameters for call to function osal_memcpy
   \   00002D   A982         MOV     R1,DPL
   \   00002F   AA83         MOV     R2,DPH
   \   000031   89..         MOV     ?V0 + 0,R1
   \   000033   8A..         MOV     ?V0 + 1,R2
   \   000035   75..00       MOV     ?V0 + 2,#0x0
   \   000038   78..         MOV     R0,#?V0 + 0
   \   00003A   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00003D   7C20         MOV     R4,#0x20
   \   00003F   7D00         MOV     R5,#0x0
   \   000041   7A..         MOV     R2,#Pm25_up & 0xff
   \   000043   7B..         MOV     R3,#(Pm25_up >> 8) & 0xff
   \   000045   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_55:
   \   000048   12....       LCALL   ?DEALLOC_XSTACK8
    753                   uartlen=0;
    754                   osal_memset(Uartbuf,0,sizeof(Uartbuf));
   \   00004B                ; Setup parameters for call to function osal_memset
    755                }else
    756                {
    757                   uartlen=0;
    758                   osal_memset(Uartbuf,0,sizeof(Uartbuf));
   \                     ??rxCB1_0:
   \   00004B                ; Setup parameters for call to function osal_memset
   \   00004B   7C28         MOV     R4,#0x28
   \   00004D   7D00         MOV     R5,#0x0
   \   00004F   7900         MOV     R1,#0x0
   \   000051   85..82       MOV     DPL,?XSP + 0
   \   000054   85..83       MOV     DPH,?XSP + 1
   \   000057   AA82         MOV     R2,DPL
   \   000059   AB83         MOV     R3,DPH
   \   00005B   12....       LCALL   ??osal_memset?relay
    759                }
    760          }
   \   00005E   80..         SJMP    ?Subroutine6

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    761          unsigned int Crc16(uint8 buf[],uint8 len)
   \                     Crc16:
    762          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FC           MOV     R4,A
   \   000007   EB           MOV     A,R3
   \   000008   FD           MOV     R5,A
   \   000009   89..         MOV     ?V0 + 0,R1
    763          	unsigned int  i,j,c,crc;
    764          	crc=0xFFFF;
   \   00000B   7AFF         MOV     R2,#-0x1
   \   00000D   7BFF         MOV     R3,#-0x1
    765          	for(i=0;i<len;i++)
   \   00000F   7E00         MOV     R6,#0x0
   \   000011   7F00         MOV     R7,#0x0
   \   000013   8011         SJMP    ??Crc16_0
    766          		{
    767          		c=*(buf+i)&0xFF;
    768          		crc^=c;
    769          		for(j=0;j<8;j++)
    770          			{
    771          				if(crc & 0x0001)
    772          					{
    773          					crc>>=1;
    774          					crc ^=0xA001;
    775          					}
    776          				else
    777          					{
    778          					crc >>=1;
   \                     ??Crc16_1:
   \   000015   FA           MOV     R2,A
   \   000016   E9           MOV     A,R1
   \                     ??Crc16_2:
   \   000017   FB           MOV     R3,A
    779          					}
   \   000018   15..         DEC     ?V0 + 1
   \   00001A   E5..         MOV     A,?V0 + 1
   \   00001C   7022         JNZ     ??Crc16_3
   \   00001E   EE           MOV     A,R6
   \   00001F   2401         ADD     A,#0x1
   \   000021   0E           INC     R6
   \   000022   EF           MOV     A,R7
   \   000023   3400         ADDC    A,#0x0
   \   000025   FF           MOV     R7,A
   \                     ??Crc16_0:
   \   000026   85....       MOV     ?V0 + 2,?V0 + 0
   \   000029   C3           CLR     C
   \   00002A   EE           MOV     A,R6
   \   00002B   95..         SUBB    A,?V0 + 2
   \   00002D   EF           MOV     A,R7
   \   00002E   9400         SUBB    A,#0x0
   \   000030   5025         JNC     ??Crc16_4
   \   000032   EC           MOV     A,R4
   \   000033   2E           ADD     A,R6
   \   000034   F582         MOV     DPL,A
   \   000036   ED           MOV     A,R5
   \   000037   3F           ADDC    A,R7
   \   000038   F583         MOV     DPH,A
   \   00003A   E0           MOVX    A,@DPTR
   \   00003B   6A           XRL     A,R2
   \   00003C   FA           MOV     R2,A
   \   00003D   75..08       MOV     ?V0 + 1,#0x8
   \                     ??Crc16_3:
   \   000040   EA           MOV     A,R2
   \   000041   F8           MOV     R0,A
   \   000042   EB           MOV     A,R3
   \   000043   C3           CLR     C
   \   000044   13           RRC     A
   \   000045   F9           MOV     R1,A
   \   000046   E8           MOV     A,R0
   \   000047   13           RRC     A
   \   000048   F8           MOV     R0,A
   \   000049   EA           MOV     A,R2
   \   00004A   A2E0         MOV     C,0xE0 /* A   */.0
   \   00004C   E8           MOV     A,R0
   \   00004D   50C6         JNC     ??Crc16_1
   \   00004F   6401         XRL     A,#0x1
   \   000051   FA           MOV     R2,A
   \   000052   E9           MOV     A,R1
   \   000053   64A0         XRL     A,#0xa0
   \   000055   80C0         SJMP    ??Crc16_2
    780          			}
    781          		}
    782            return(crc);
   \                     ??Crc16_4:
   \   000057   80..         SJMP    ??Subroutine27_0
    783          }
    784          
    785          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    786          void write_to_nvflash(uint8 buf[])
   \                     write_to_nvflash:
    787          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 0,R2
   \   000007   8B..         MOV     ?V0 + 1,R3
    788              osal_nv_item_init(ZCD_DEV_ADDRESS, 1, NULL);
   \   000009                ; Setup parameters for call to function osal_nv_item_init
   \   000009   E4           CLR     A
   \   00000A   F5..         MOV     ?V0 + 2,A
   \   00000C   F5..         MOV     ?V0 + 3,A
   \   00000E   78..         MOV     R0,#?V0 + 2
   \   000010   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000013   7C01         MOV     R4,#0x1
   \   000015   7D00         MOV     R5,#0x0
   \   000017   7A01         MOV     R2,#0x1
   \   000019   7B02         MOV     R3,#0x2
   \   00001B   12....       LCALL   ??osal_nv_item_init?relay
   \   00001E   7402         MOV     A,#0x2
   \   000020   12....       LCALL   ?DEALLOC_XSTACK8
    789              osal_nv_write(ZCD_DEV_ADDRESS, 0,1, buf);
   \   000023                ; Setup parameters for call to function osal_nv_write
   \   000023   78..         MOV     R0,#?V0 + 0
   \   000025   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000028   75..01       MOV     ?V0 + 0,#0x1
   \   00002B   75..00       MOV     ?V0 + 1,#0x0
   \   00002E   78..         MOV     R0,#?V0 + 0
   \   000030   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000033   7C00         MOV     R4,#0x0
   \   000035   7D00         MOV     R5,#0x0
   \   000037   7A01         MOV     R2,#0x1
   \   000039   7B02         MOV     R3,#0x2
   \   00003B   12....       LCALL   ??osal_nv_write?relay
   \   00003E   7404         MOV     A,#0x4
   \   000040                REQUIRE ?Subroutine1
   \   000040                ; // Fall through to label ?Subroutine1
    790          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    791          void read_from_nvflash(void)
   \                     read_from_nvflash:
    792          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
    793             osal_nv_item_init(ZCD_DEV_ADDRESS, 1, NULL);
   \   000005                ; Setup parameters for call to function osal_nv_item_init
   \   000005   E4           CLR     A
   \   000006   F5..         MOV     ?V0 + 0,A
   \   000008   F5..         MOV     ?V0 + 1,A
   \   00000A   78..         MOV     R0,#?V0 + 0
   \   00000C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00000F   7C01         MOV     R4,#0x1
   \   000011   7D00         MOV     R5,#0x0
   \   000013   7A01         MOV     R2,#0x1
   \   000015   7B02         MOV     R3,#0x2
   \   000017   12....       LCALL   ??osal_nv_item_init?relay
   \   00001A   7402         MOV     A,#0x2
   \   00001C   12....       LCALL   ?DEALLOC_XSTACK8
    794             osal_nv_read(ZCD_DEV_ADDRESS, 0, 1, &Dev_mac[3]);
   \   00001F                ; Setup parameters for call to function osal_nv_read
   \   00001F   75....       MOV     ?V0 + 0,#(Dev_mac + 3) & 0xff
   \   000022   75....       MOV     ?V0 + 1,#((Dev_mac + 3) >> 8) & 0xff
   \   000025   78..         MOV     R0,#?V0 + 0
   \   000027   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00002A   75..01       MOV     ?V0 + 0,#0x1
   \   00002D   75..00       MOV     ?V0 + 1,#0x0
   \   000030   78..         MOV     R0,#?V0 + 0
   \   000032   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000035   7C00         MOV     R4,#0x0
   \   000037   7D00         MOV     R5,#0x0
   \   000039   7A01         MOV     R2,#0x1
   \   00003B   7B02         MOV     R3,#0x2
   \   00003D   12....       LCALL   ??osal_nv_read?relay
   \   000040   7404         MOV     A,#0x4
   \   000042   02....       LJMP    ?Subroutine2 & 0xFFFF
    795          }
    796          //心跳事件
    797          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    798          void Heart_up(void)
   \                     Heart_up:
    799          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    800            unsigned char chec_buf[2];
    801            uint16 chec_int=0;
   \   00000A   7E00         MOV     R6,#0x0
   \   00000C   7F00         MOV     R7,#0x0
    802            int i;
    803            osal_memcpy(Head_up.data_core.Head_byte,Headline,2);
   \   00000E                ; Setup parameters for call to function osal_memcpy
   \   00000E   75....       MOV     ?V0 + 0,#Headline & 0xff
   \   000011   75....       MOV     ?V0 + 1,#(Headline >> 8) & 0xff
   \   000014   8E..         MOV     ?V0 + 2,R6
   \   000016   78..         MOV     R0,#?V0 + 0
   \   000018   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00001B   7C02         MOV     R4,#0x2
   \   00001D   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_50:
   \   000020   12....       LCALL   ?DEALLOC_XSTACK8
    804            osal_memcpy(Head_up.data_core.Data_length,Head_up_len,2);
   \   000023                ; Setup parameters for call to function osal_memcpy
   \   000023   75....       MOV     ?V0 + 0,#Head_up_len & 0xff
   \   000026   75....       MOV     ?V0 + 1,#(Head_up_len >> 8) & 0xff
   \   000029   78..         MOV     R0,#?V0 + 0
   \   00002B   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00002E   7C02         MOV     R4,#0x2
   \   000030   7D00         MOV     R5,#0x0
   \   000032   7A..         MOV     R2,#(Head_up + 2) & 0xff
   \   000034   7B..         MOV     R3,#((Head_up + 2) >> 8) & 0xff
   \   000036   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_56:
   \   000039   12....       LCALL   ?DEALLOC_XSTACK8
    805            Head_up.data_core.Data_type=0x01;
   \   00003C   90....       MOV     DPTR,#Head_up + 4
   \   00003F   7401         MOV     A,#0x1
   \   000041   12....       LCALL   ?Subroutine8 & 0xFFFF
    806            osal_memcpy(Head_up.data_core.MAC_addr,Dev_mac,4);
   \                     ??CrossCallReturnLabel_0:
   \   000044   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000047   7C04         MOV     R4,#0x4
   \   000049   7D00         MOV     R5,#0x0
   \   00004B   7A..         MOV     R2,#(Head_up + 5) & 0xff
   \   00004D   7B..         MOV     R3,#((Head_up + 5) >> 8) & 0xff
   \   00004F   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_57:
   \   000052   12....       LCALL   ?DEALLOC_XSTACK8
    807            
    808            for(i=0;i<7;i++)
   \   000055   7800         MOV     R0,#0x0
   \   000057   7900         MOV     R1,#0x0
    809            {
    810              chec_int=chec_int+Head_up.data_buf[2+i];
   \                     ??Heart_up_0:
   \   000059   74..         MOV     A,#(Head_up + 2) & 0xff
   \   00005B   28           ADD     A,R0
   \   00005C   F582         MOV     DPL,A
   \   00005E   74..         MOV     A,#((Head_up + 2) >> 8) & 0xff
   \   000060   12....       LCALL   ?Subroutine12 & 0xFFFF
    811            } 
   \                     ??CrossCallReturnLabel_8:
   \   000063   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_99:
   \   000066   40F1         JC      ??Heart_up_0
    812            chec_buf[0]=chec_int>>8;
   \   000068   EF           MOV     A,R7
   \   000069   85..82       MOV     DPL,?XSP + 0
   \   00006C   85..83       MOV     DPH,?XSP + 1
   \   00006F   F0           MOVX    @DPTR,A
    813            chec_buf[1]=chec_int;
   \   000070   7401         MOV     A,#0x1
   \   000072   12....       LCALL   ?XSTACK_DISP0_8
   \   000075   12....       LCALL   ?Subroutine7 & 0xFFFF
    814            osal_memcpy(Head_up.data_core.Check_code,chec_buf,2);
   \                     ??CrossCallReturnLabel_33:
   \   000078   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00007B   7C02         MOV     R4,#0x2
   \   00007D   7D00         MOV     R5,#0x0
   \   00007F   7A..         MOV     R2,#(Head_up + 9) & 0xff
   \   000081   7B..         MOV     R3,#((Head_up + 9) >> 8) & 0xff
   \   000083   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_58:
   \   000086   12....       LCALL   ?DEALLOC_XSTACK8
    815            osal_memcpy(Head_up.data_core.Tial,Tialline,2);
   \   000089                ; Setup parameters for call to function osal_memcpy
   \   000089   75....       MOV     ?V0 + 0,#Tialline & 0xff
   \   00008C   75....       MOV     ?V0 + 1,#(Tialline >> 8) & 0xff
   \   00008F   78..         MOV     R0,#?V0 + 0
   \   000091   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000094   7C02         MOV     R4,#0x2
   \   000096   7D00         MOV     R5,#0x0
   \   000098   7A..         MOV     R2,#(Head_up + 11) & 0xff
   \   00009A   7B..         MOV     R3,#((Head_up + 11) >> 8) & 0xff
   \   00009C   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_59:
   \   00009F   12....       LCALL   ?DEALLOC_XSTACK8
    816            HalUARTWrite(0, Head_up.data_buf, 13);
   \   0000A2                ; Setup parameters for call to function HalUARTWrite
   \   0000A2   7C0D         MOV     R4,#0xd
   \   0000A4   7D00         MOV     R5,#0x0
   \   0000A6   7A..         MOV     R2,#Head_up & 0xff
   \   0000A8   7B..         MOV     R3,#(Head_up >> 8) & 0xff
   \   0000AA   02....       LJMP    ?Subroutine3 & 0xFFFF
    817          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   EE           MOV     A,R6
   \   000001                REQUIRE ??Subroutine28_0
   \   000001                ; // Fall through to label ??Subroutine28_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine28_0:
   \   000000   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_39:
   \   000003   78..         MOV     R0,#?V0 + 0
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine12:
   \   000000   39           ADDC    A,R1
   \   000001   F583         MOV     DPH,A
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FA           MOV     R2,A
   \   000005   EE           MOV     A,R6
   \   000006   2A           ADD     A,R2
   \   000007   FE           MOV     R6,A
   \   000008   EF           MOV     A,R7
   \   000009   3400         ADDC    A,#0x0
   \   00000B   FF           MOV     R7,A
   \   00000C   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_31:
   \   00000F   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine25:
   \   000000   E8           MOV     A,R0
   \   000001   2401         ADD     A,#0x1
   \   000003   08           INC     R0
   \   000004   E9           MOV     A,R1
   \   000005   3400         ADDC    A,#0x0
   \   000007   F9           MOV     R1,A
   \   000008   C3           CLR     C
   \   000009   E8           MOV     A,R0
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   F0           MOVX    @DPTR,A
   \   000001                ; Setup parameters for call to function osal_memcpy
   \   000001                ; Setup parameters for call to function osal_memcpy
   \   000001                ; Setup parameters for call to function osal_memcpy
   \   000001                ; Setup parameters for call to function osal_memcpy
   \   000001   75....       MOV     ?V0 + 0,#Dev_mac & 0xff
   \   000004   75....       MOV     ?V0 + 1,#(Dev_mac >> 8) & 0xff
   \   000007   78..         MOV     R0,#?V0 + 0
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine18:
   \   000000   7D00         MOV     R5,#0x0
   \   000002   7A..         MOV     R2,#Head_up & 0xff
   \   000004   7B..         MOV     R3,#(Head_up >> 8) & 0xff
   \   000006                REQUIRE ??Subroutine30_0
   \   000006                ; // Fall through to label ??Subroutine30_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine19:
   \   000000   9407         SUBB    A,#0x7
   \   000002                REQUIRE ??Subroutine31_0
   \   000002                ; // Fall through to label ??Subroutine31_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine31_0:
   \   000000   E9           MOV     A,R1
   \   000001                REQUIRE ??Subroutine32_0
   \   000001                ; // Fall through to label ??Subroutine32_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine32_0:
   \   000000   9400         SUBB    A,#0x0
   \   000002   A2D2         MOV     C,0xD0 /* PSW */.2
   \   000004   65D0         XRL     A,PSW
   \   000006   33           RLC     A
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine22:
   \   000000   F0           MOVX    @DPTR,A
   \   000001                ; Setup parameters for call to function osal_memcpy
   \   000001                ; Setup parameters for call to function osal_memcpy
   \   000001                ; Setup parameters for call to function osal_memcpy
   \   000001                ; Setup parameters for call to function osal_memcpy
   \   000001                ; Setup parameters for call to function osal_memcmp
   \   000001                ; Setup parameters for call to function osal_memcmp
   \   000001                ; Setup parameters for call to function osal_memcpy
   \   000001                ; Setup parameters for call to function osal_memcmp
   \   000001   85..82       MOV     DPL,?XSP + 0
   \   000004   85..83       MOV     DPH,?XSP + 1
   \   000007   A982         MOV     R1,DPL
   \   000009   AA83         MOV     R2,DPH
   \   00000B   89..         MOV     ?V0 + 0,R1
   \   00000D   8A..         MOV     ?V0 + 1,R2
   \   00000F   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   7900         MOV     R1,#0x0
   \   000002   12....       LCALL   ??HalUARTWrite?relay
   \   000005                REQUIRE ??Subroutine34_0
   \   000005                ; // Fall through to label ??Subroutine34_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine34_0:
   \   000000   7402         MOV     A,#0x2
   \   000002                REQUIRE ??Subroutine35_0
   \   000002                ; // Fall through to label ??Subroutine35_0
    818          /*********************************************************************
    819           * 上电发送注册信息
    820           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    821          void Regest_dev(void)
   \                     Regest_dev:
    822          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    823            unsigned char chec_buf[2];
    824            uint16 chec_int=0;
   \   00000A   7E00         MOV     R6,#0x0
   \   00000C   7F00         MOV     R7,#0x0
    825            int i;
    826            osal_memcpy(Rejest_up.data_core.Head_byte,Headline,2);
   \   00000E                ; Setup parameters for call to function osal_memcpy
   \   00000E   75....       MOV     ?V0 + 0,#Headline & 0xff
   \   000011   75....       MOV     ?V0 + 1,#(Headline >> 8) & 0xff
   \   000014   8E..         MOV     ?V0 + 2,R6
   \   000016   78..         MOV     R0,#?V0 + 0
   \   000018   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00001B   7C02         MOV     R4,#0x2
   \   00001D   7D00         MOV     R5,#0x0
   \   00001F   7A..         MOV     R2,#Rejest_up & 0xff
   \   000021   7B..         MOV     R3,#(Rejest_up >> 8) & 0xff
   \   000023   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_60:
   \   000026   12....       LCALL   ?DEALLOC_XSTACK8
    827            osal_memcpy(Rejest_up.data_core.Data_length,Rejest_up_len,2);
   \   000029                ; Setup parameters for call to function osal_memcpy
   \   000029   75....       MOV     ?V0 + 0,#Rejest_up_len & 0xff
   \   00002C   75....       MOV     ?V0 + 1,#(Rejest_up_len >> 8) & 0xff
   \   00002F   78..         MOV     R0,#?V0 + 0
   \   000031   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000034   7C02         MOV     R4,#0x2
   \   000036   7D00         MOV     R5,#0x0
   \   000038   7A..         MOV     R2,#(Rejest_up + 2) & 0xff
   \   00003A   7B..         MOV     R3,#((Rejest_up + 2) >> 8) & 0xff
   \   00003C   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_61:
   \   00003F   12....       LCALL   ?DEALLOC_XSTACK8
    828            Rejest_up.data_core.Data_type=0x02;
   \   000042   90....       MOV     DPTR,#Rejest_up + 4
   \   000045   7402         MOV     A,#0x2
   \   000047   12....       LCALL   ?Subroutine8 & 0xFFFF
    829            osal_memcpy(Rejest_up.data_core.MAC_addr,Dev_mac,4);
   \                     ??CrossCallReturnLabel_1:
   \   00004A   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00004D   7C04         MOV     R4,#0x4
   \   00004F   7D00         MOV     R5,#0x0
   \   000051   7A..         MOV     R2,#(Rejest_up + 5) & 0xff
   \   000053   7B..         MOV     R3,#((Rejest_up + 5) >> 8) & 0xff
   \   000055   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_62:
   \   000058   12....       LCALL   ?DEALLOC_XSTACK8
    830            osal_memcpy(Rejest_up.data_core.Version,Soft_version,3);
   \   00005B                ; Setup parameters for call to function osal_memcpy
   \   00005B   75....       MOV     ?V0 + 0,#Soft_version & 0xff
   \   00005E   75....       MOV     ?V0 + 1,#(Soft_version >> 8) & 0xff
   \   000061   78..         MOV     R0,#?V0 + 0
   \   000063   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000066   7C03         MOV     R4,#0x3
   \   000068   7D00         MOV     R5,#0x0
   \   00006A   7A..         MOV     R2,#(Rejest_up + 9) & 0xff
   \   00006C   7B..         MOV     R3,#((Rejest_up + 9) >> 8) & 0xff
   \   00006E   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_63:
   \   000071   12....       LCALL   ?DEALLOC_XSTACK8
    831            osal_memcpy(Rejest_up.data_core.HardVersion,Hard_version,3);
   \   000074                ; Setup parameters for call to function osal_memcpy
   \   000074   75....       MOV     ?V0 + 0,#Hard_version & 0xff
   \   000077   75....       MOV     ?V0 + 1,#(Hard_version >> 8) & 0xff
   \   00007A   78..         MOV     R0,#?V0 + 0
   \   00007C   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00007F   7C03         MOV     R4,#0x3
   \   000081   7D00         MOV     R5,#0x0
   \   000083   7A..         MOV     R2,#(Rejest_up + 12) & 0xff
   \   000085   7B..         MOV     R3,#((Rejest_up + 12) >> 8) & 0xff
   \   000087   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_64:
   \   00008A   12....       LCALL   ?DEALLOC_XSTACK8
    832            osal_memcpy(Rejest_up.data_core.Heart_time,Time_set,3);
   \   00008D                ; Setup parameters for call to function osal_memcpy
   \   00008D   75....       MOV     ?V0 + 0,#Time_set & 0xff
   \   000090   75....       MOV     ?V0 + 1,#(Time_set >> 8) & 0xff
   \   000093   78..         MOV     R0,#?V0 + 0
   \   000095   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000098   7C03         MOV     R4,#0x3
   \   00009A   7D00         MOV     R5,#0x0
   \   00009C   7A..         MOV     R2,#(Rejest_up + 15) & 0xff
   \   00009E   7B..         MOV     R3,#((Rejest_up + 15) >> 8) & 0xff
   \   0000A0   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_65:
   \   0000A3   12....       LCALL   ?DEALLOC_XSTACK8
    833            for(i=0;i<16;i++)
   \   0000A6   7800         MOV     R0,#0x0
   \   0000A8   7900         MOV     R1,#0x0
    834            {
    835              chec_int=chec_int+Rejest_up.data_buf[2+i];
   \                     ??Regest_dev_0:
   \   0000AA   74..         MOV     A,#(Rejest_up + 2) & 0xff
   \   0000AC   28           ADD     A,R0
   \   0000AD   F582         MOV     DPL,A
   \   0000AF   74..         MOV     A,#((Rejest_up + 2) >> 8) & 0xff
   \   0000B1   12....       LCALL   ?Subroutine12 & 0xFFFF
    836            } 
   \                     ??CrossCallReturnLabel_9:
   \   0000B4   9410         SUBB    A,#0x10
   \   0000B6   12....       LCALL   ??Subroutine31_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_96:
   \   0000B9   40EF         JC      ??Regest_dev_0
    837            chec_buf[0]=chec_int>>8;
   \   0000BB   EF           MOV     A,R7
   \   0000BC   85..82       MOV     DPL,?XSP + 0
   \   0000BF   85..83       MOV     DPH,?XSP + 1
   \   0000C2   F0           MOVX    @DPTR,A
    838            chec_buf[1]=chec_int;
   \   0000C3   7401         MOV     A,#0x1
   \   0000C5   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C8   12....       LCALL   ?Subroutine7 & 0xFFFF
    839            osal_memcpy(Rejest_up.data_core.Check_code,chec_buf,2);
   \                     ??CrossCallReturnLabel_34:
   \   0000CB   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000CE   7C02         MOV     R4,#0x2
   \   0000D0   7D00         MOV     R5,#0x0
   \   0000D2   7A..         MOV     R2,#(Rejest_up + 18) & 0xff
   \   0000D4   7B..         MOV     R3,#((Rejest_up + 18) >> 8) & 0xff
   \   0000D6   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_66:
   \   0000D9   12....       LCALL   ?DEALLOC_XSTACK8
    840            osal_memcpy(Rejest_up.data_core.Tial,Tialline,2);
   \   0000DC                ; Setup parameters for call to function osal_memcpy
   \   0000DC   75....       MOV     ?V0 + 0,#Tialline & 0xff
   \   0000DF   75....       MOV     ?V0 + 1,#(Tialline >> 8) & 0xff
   \   0000E2   78..         MOV     R0,#?V0 + 0
   \   0000E4   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000E7   7C02         MOV     R4,#0x2
   \   0000E9   7D00         MOV     R5,#0x0
   \   0000EB   7A..         MOV     R2,#(Rejest_up + 20) & 0xff
   \   0000ED   7B..         MOV     R3,#((Rejest_up + 20) >> 8) & 0xff
   \   0000EF   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_67:
   \   0000F2   12....       LCALL   ?DEALLOC_XSTACK8
    841            HalUARTWrite(0, Rejest_up.data_buf, 22);
   \   0000F5                ; Setup parameters for call to function HalUARTWrite
   \   0000F5   7C16         MOV     R4,#0x16
   \   0000F7   7D00         MOV     R5,#0x0
   \   0000F9   7A..         MOV     R2,#Rejest_up & 0xff
   \   0000FB   7B..         MOV     R3,#(Rejest_up >> 8) & 0xff
   \   0000FD   02....       LJMP    ?Subroutine3 & 0xFFFF
    842          }
    843          /*
    844          采集数据上报命令
    845          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    846          void Data_up_process(void)
   \                     Data_up_process:
    847          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    848            unsigned char chec_buf[2];
    849            uint16 chec_int=0;
   \   00000A   7E00         MOV     R6,#0x0
   \   00000C   7F00         MOV     R7,#0x0
    850            int i;
    851            osal_memcpy(Data_up.data_core.Head_byte,Headline,2);
   \   00000E                ; Setup parameters for call to function osal_memcpy
   \   00000E   75....       MOV     ?V0 + 0,#Headline & 0xff
   \   000011   75....       MOV     ?V0 + 1,#(Headline >> 8) & 0xff
   \   000014   8E..         MOV     ?V0 + 2,R6
   \   000016   78..         MOV     R0,#?V0 + 0
   \   000018   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00001B   7C02         MOV     R4,#0x2
   \   00001D   7D00         MOV     R5,#0x0
   \   00001F   7A..         MOV     R2,#Data_up & 0xff
   \   000021   7B..         MOV     R3,#(Data_up >> 8) & 0xff
   \   000023   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_68:
   \   000026   12....       LCALL   ?DEALLOC_XSTACK8
    852            osal_memcpy(Data_up.data_core.Data_length,Data_up_len,2);
   \   000029                ; Setup parameters for call to function osal_memcpy
   \   000029   75....       MOV     ?V0 + 0,#Data_up_len & 0xff
   \   00002C   75....       MOV     ?V0 + 1,#(Data_up_len >> 8) & 0xff
   \   00002F   78..         MOV     R0,#?V0 + 0
   \   000031   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000034   7C02         MOV     R4,#0x2
   \   000036   7D00         MOV     R5,#0x0
   \   000038   7A..         MOV     R2,#(Data_up + 2) & 0xff
   \   00003A   7B..         MOV     R3,#((Data_up + 2) >> 8) & 0xff
   \   00003C   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_69:
   \   00003F   12....       LCALL   ?DEALLOC_XSTACK8
    853            Data_up.data_core.Data_type=0x04;
   \   000042   90....       MOV     DPTR,#Data_up + 4
   \   000045   7404         MOV     A,#0x4
   \   000047   12....       LCALL   ?Subroutine8 & 0xFFFF
    854            osal_memcpy(Data_up.data_core.MAC_addr,Dev_mac,4);
   \                     ??CrossCallReturnLabel_2:
   \   00004A   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00004D   7C04         MOV     R4,#0x4
   \   00004F   7D00         MOV     R5,#0x0
   \   000051   7A..         MOV     R2,#(Data_up + 5) & 0xff
   \   000053   7B..         MOV     R3,#((Data_up + 5) >> 8) & 0xff
   \   000055   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_70:
   \   000058   12....       LCALL   ?DEALLOC_XSTACK8
    855            osal_memcpy(Data_up.data_core.PM25,PM25_data,3);
   \   00005B                ; Setup parameters for call to function osal_memcpy
   \   00005B   75....       MOV     ?V0 + 0,#PM25_data & 0xff
   \   00005E   75....       MOV     ?V0 + 1,#(PM25_data >> 8) & 0xff
   \   000061   78..         MOV     R0,#?V0 + 0
   \   000063   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000066   7C03         MOV     R4,#0x3
   \   000068   7D00         MOV     R5,#0x0
   \   00006A   7A..         MOV     R2,#(Data_up + 9) & 0xff
   \   00006C   7B..         MOV     R3,#((Data_up + 9) >> 8) & 0xff
   \   00006E   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_71:
   \   000071   12....       LCALL   ?DEALLOC_XSTACK8
    856            osal_memcpy(Data_up.data_core.PM03,PM03_data,3);
   \   000074                ; Setup parameters for call to function osal_memcpy
   \   000074   75....       MOV     ?V0 + 0,#PM03_data & 0xff
   \   000077   75....       MOV     ?V0 + 1,#(PM03_data >> 8) & 0xff
   \   00007A   78..         MOV     R0,#?V0 + 0
   \   00007C   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00007F   7C03         MOV     R4,#0x3
   \   000081   7D00         MOV     R5,#0x0
   \   000083   7A..         MOV     R2,#(Data_up + 12) & 0xff
   \   000085   7B..         MOV     R3,#((Data_up + 12) >> 8) & 0xff
   \   000087   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_72:
   \   00008A   12....       LCALL   ?DEALLOC_XSTACK8
    857            osal_memcpy(Data_up.data_core.TEM,TEM_data,3);
   \   00008D                ; Setup parameters for call to function osal_memcpy
   \   00008D   75....       MOV     ?V0 + 0,#TEM_data & 0xff
   \   000090   75....       MOV     ?V0 + 1,#(TEM_data >> 8) & 0xff
   \   000093   78..         MOV     R0,#?V0 + 0
   \   000095   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000098   7C03         MOV     R4,#0x3
   \   00009A   7D00         MOV     R5,#0x0
   \   00009C   7A..         MOV     R2,#(Data_up + 15) & 0xff
   \   00009E   7B..         MOV     R3,#((Data_up + 15) >> 8) & 0xff
   \   0000A0   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_73:
   \   0000A3   12....       LCALL   ?DEALLOC_XSTACK8
    858            osal_memcpy(Data_up.data_core.HUM,HUM_data,3);
   \   0000A6                ; Setup parameters for call to function osal_memcpy
   \   0000A6   75....       MOV     ?V0 + 0,#HUM_data & 0xff
   \   0000A9   75....       MOV     ?V0 + 1,#(HUM_data >> 8) & 0xff
   \   0000AC   78..         MOV     R0,#?V0 + 0
   \   0000AE   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000B1   7C03         MOV     R4,#0x3
   \   0000B3   7D00         MOV     R5,#0x0
   \   0000B5   7A..         MOV     R2,#(Data_up + 18) & 0xff
   \   0000B7   7B..         MOV     R3,#((Data_up + 18) >> 8) & 0xff
   \   0000B9   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_74:
   \   0000BC   12....       LCALL   ?DEALLOC_XSTACK8
    859            osal_memcpy(Data_up.data_core.POW,POW_data,3);
   \   0000BF                ; Setup parameters for call to function osal_memcpy
   \   0000BF   75....       MOV     ?V0 + 0,#POW_data & 0xff
   \   0000C2   75....       MOV     ?V0 + 1,#(POW_data >> 8) & 0xff
   \   0000C5   78..         MOV     R0,#?V0 + 0
   \   0000C7   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000CA   7C03         MOV     R4,#0x3
   \   0000CC   7D00         MOV     R5,#0x0
   \   0000CE   7A..         MOV     R2,#(Data_up + 21) & 0xff
   \   0000D0   7B..         MOV     R3,#((Data_up + 21) >> 8) & 0xff
   \   0000D2   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_75:
   \   0000D5   12....       LCALL   ?DEALLOC_XSTACK8
    860            osal_memcpy(Data_up.data_core.POW_STA,POW_sta,3);
   \   0000D8                ; Setup parameters for call to function osal_memcpy
   \   0000D8   75....       MOV     ?V0 + 0,#POW_sta & 0xff
   \   0000DB   75....       MOV     ?V0 + 1,#(POW_sta >> 8) & 0xff
   \   0000DE   78..         MOV     R0,#?V0 + 0
   \   0000E0   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000E3   7C03         MOV     R4,#0x3
   \   0000E5   7D00         MOV     R5,#0x0
   \   0000E7   7A..         MOV     R2,#(Data_up + 24) & 0xff
   \   0000E9   7B..         MOV     R3,#((Data_up + 24) >> 8) & 0xff
   \   0000EB   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_76:
   \   0000EE   12....       LCALL   ?DEALLOC_XSTACK8
    861            for(i=0;i<25;i++)
   \   0000F1   7800         MOV     R0,#0x0
   \   0000F3   7900         MOV     R1,#0x0
    862            {
    863              chec_int=chec_int+Data_up.data_buf[2+i];
   \                     ??Data_up_process_0:
   \   0000F5   74..         MOV     A,#(Data_up + 2) & 0xff
   \   0000F7   28           ADD     A,R0
   \   0000F8   F582         MOV     DPL,A
   \   0000FA   74..         MOV     A,#((Data_up + 2) >> 8) & 0xff
   \   0000FC   12....       LCALL   ?Subroutine12 & 0xFFFF
    864            } 
   \                     ??CrossCallReturnLabel_10:
   \   0000FF   9419         SUBB    A,#0x19
   \   000101   12....       LCALL   ??Subroutine31_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_97:
   \   000104   40EF         JC      ??Data_up_process_0
    865            chec_buf[0]=chec_int>>8;
   \   000106   EF           MOV     A,R7
   \   000107   85..82       MOV     DPL,?XSP + 0
   \   00010A   85..83       MOV     DPH,?XSP + 1
   \   00010D   F0           MOVX    @DPTR,A
    866            chec_buf[1]=chec_int;
   \   00010E   7401         MOV     A,#0x1
   \   000110   12....       LCALL   ?XSTACK_DISP0_8
   \   000113   12....       LCALL   ?Subroutine7 & 0xFFFF
    867            osal_memcpy(Data_up.data_core.Check_code,chec_buf,2);
   \                     ??CrossCallReturnLabel_35:
   \   000116   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000119   7C02         MOV     R4,#0x2
   \   00011B   7D00         MOV     R5,#0x0
   \   00011D   7A..         MOV     R2,#(Data_up + 27) & 0xff
   \   00011F   7B..         MOV     R3,#((Data_up + 27) >> 8) & 0xff
   \   000121   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_77:
   \   000124   12....       LCALL   ?DEALLOC_XSTACK8
    868            osal_memcpy(Data_up.data_core.Tial,Tialline,2);
   \   000127                ; Setup parameters for call to function osal_memcpy
   \   000127   75....       MOV     ?V0 + 0,#Tialline & 0xff
   \   00012A   75....       MOV     ?V0 + 1,#(Tialline >> 8) & 0xff
   \   00012D   78..         MOV     R0,#?V0 + 0
   \   00012F   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000132   7C02         MOV     R4,#0x2
   \   000134   7D00         MOV     R5,#0x0
   \   000136   7A..         MOV     R2,#(Data_up + 29) & 0xff
   \   000138   7B..         MOV     R3,#((Data_up + 29) >> 8) & 0xff
   \   00013A   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_78:
   \   00013D   12....       LCALL   ?DEALLOC_XSTACK8
    869            HalUARTWrite(0, Data_up.data_buf, 31);
   \   000140                ; Setup parameters for call to function HalUARTWrite
   \   000140   7C1F         MOV     R4,#0x1f
   \   000142   7D00         MOV     R5,#0x0
   \   000144   7A..         MOV     R2,#Data_up & 0xff
   \   000146   7B..         MOV     R3,#(Data_up >> 8) & 0xff
   \   000148   02....       LJMP    ?Subroutine3 & 0xFFFF
    870          }
    871          #ifdef QTJC_DEV
    872          void Get_gass(void)
    873          {
    874            uint16 QT_Tmp = HalAdcRead (HAL_ADC_CHANNEL_1, HAL_ADC_RESOLUTION_12);
    875            uint8 Temp_H=QT_Tmp>>8;    //高位在前
    876            uint8 Temp_L=QT_Tmp&0x00ff;//低位在后
    877            CO2_data[0]=0x07;
    878            CO2_data[1]=Temp_H;
    879            CO2_data[2]=Temp_L;
    880            TVOC_data[0]=0x08;
    881            TVOC_data[1]=Temp_H;
    882            TVOC_data[2]=Temp_L;
    883          }
    884          #endif
    885          
    886          #ifdef POWER_TEST

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    887          void Get_power(void)
   \                     Get_power:
    888          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
    889             POW_data[0]=0x0A;
   \   000005   90....       MOV     DPTR,#POW_data
   \   000008   740A         MOV     A,#0xa
   \   00000A   12....       LCALL   ??Subroutine29_0 & 0xFFFF
    890             POW_data[1]=0x00;
    891             //uint16 POW_Tmp = HalAdcRead (HAL_ADC_CHANNEL_0, HAL_ADC_RESOLUTION_12);
    892             uint16 POW_Tmp = HalAdcRead (HAL_ADC_CHANNEL_0, HAL_ADC_RESOLUTION_12);
   \                     ??CrossCallReturnLabel_42:
   \   00000D                ; Setup parameters for call to function HalAdcRead
   \   00000D   7A03         MOV     R2,#0x3
   \   00000F   F9           MOV     R1,A
   \   000010   12....       LCALL   ??HalAdcRead?relay
   \   000013   8A..         MOV     ?V0 + 0,R2
   \   000015   8B..         MOV     ?V0 + 1,R3
   \   000017   A8..         MOV     R0,?V0 + 0
   \   000019   A9..         MOV     R1,?V0 + 1
    893          
    894             if(POW_Tmp>0x0320)
   \   00001B   C3           CLR     C
   \   00001C   E8           MOV     A,R0
   \   00001D   9421         SUBB    A,#0x21
   \   00001F   E9           MOV     A,R1
   \   000020   9403         SUBB    A,#0x3
   \   000022   4006         JC      ??Get_power_0
    895             {
    896             POW_data[2]=0x64; //100%
   \   000024   90....       MOV     DPTR,#POW_data + 2
   \   000027   7464         MOV     A,#0x64
   \   000029   F0           MOVX    @DPTR,A
    897             }
    898             if((POW_Tmp>0x02BC)&&(POW_Tmp<0x0320))
   \                     ??Get_power_0:
   \   00002A   E8           MOV     A,R0
   \   00002B   2443         ADD     A,#0x43
   \   00002D   12....       LCALL   ?Subroutine21 & 0xFFFF
   \                     ??CrossCallReturnLabel_24:
   \   000030   5006         JNC     ??Get_power_1
    899             {
    900             POW_data[2]=0x50; //80%
   \   000032   90....       MOV     DPTR,#POW_data + 2
   \   000035   7450         MOV     A,#0x50
   \   000037   F0           MOVX    @DPTR,A
    901             }
    902             if((POW_Tmp>0x0258)&&(POW_Tmp<0x02BC))
   \                     ??Get_power_1:
   \   000038   E8           MOV     A,R0
   \   000039   24A7         ADD     A,#-0x59
   \   00003B   12....       LCALL   ?Subroutine21 & 0xFFFF
   \                     ??CrossCallReturnLabel_25:
   \   00003E   5006         JNC     ??Get_power_2
    903             {
    904              POW_data[2]=0x3C; //60%
   \   000040   90....       MOV     DPTR,#POW_data + 2
   \   000043   743C         MOV     A,#0x3c
   \   000045   F0           MOVX    @DPTR,A
    905             }
    906             if((POW_Tmp>0x01F4)&&(POW_Tmp<0x0258))
   \                     ??Get_power_2:
   \   000046   E8           MOV     A,R0
   \   000047   240B         ADD     A,#0xb
   \   000049   FA           MOV     R2,A
   \   00004A   E9           MOV     A,R1
   \   00004B   34FE         ADDC    A,#-0x2
   \   00004D   FB           MOV     R3,A
   \   00004E   C3           CLR     C
   \   00004F   EA           MOV     A,R2
   \   000050   9463         SUBB    A,#0x63
   \   000052   EB           MOV     A,R3
   \   000053   9400         SUBB    A,#0x0
   \   000055   5006         JNC     ??Get_power_3
    907             {
    908               POW_data[2]=0x28;//40%
   \   000057   90....       MOV     DPTR,#POW_data + 2
   \   00005A   7428         MOV     A,#0x28
   \   00005C   F0           MOVX    @DPTR,A
    909             }
    910             if(POW_Tmp<0x01F4)
   \                     ??Get_power_3:
   \   00005D   C3           CLR     C
   \   00005E   E8           MOV     A,R0
   \   00005F   94F4         SUBB    A,#-0xc
   \   000061   E9           MOV     A,R1
   \   000062   9401         SUBB    A,#0x1
   \   000064   5006         JNC     ??Get_power_4
    911             {
    912               POW_data[2]=0x0A;//10%
   \   000066   90....       MOV     DPTR,#POW_data + 2
   \   000069   740A         MOV     A,#0xa
   \   00006B   F0           MOVX    @DPTR,A
    913             }
    914             
    915             /*
    916             uint8 POW_H=POW_Tmp>>8;    //高位在前
    917             uint8 POW_L=POW_Tmp&0x00ff;//低位在后
    918             POW_data[0]=0x0A;
    919             POW_data[1]=POW_H;
    920             POW_data[2]=POW_L; 
    921             */
    922             //电源充电状态
    923             POW_sta[0]=0x0F;
   \                     ??Get_power_4:
   \   00006C   90....       MOV     DPTR,#POW_sta
   \   00006F   740F         MOV     A,#0xf
   \   000071   12....       LCALL   ??Subroutine29_0 & 0xFFFF
    924             POW_sta[1]=0x00;
    925             if(POW_Tmp>0x0355)
   \                     ??CrossCallReturnLabel_43:
   \   000074   C3           CLR     C
   \   000075   E8           MOV     A,R0
   \   000076   9456         SUBB    A,#0x56
   \   000078   E9           MOV     A,R1
   \   000079   9403         SUBB    A,#0x3
   \   00007B   A3           INC     DPTR
   \   00007C   4004         JC      ??Get_power_5
    926             POW_sta[2]=0x01;
   \   00007E   7401         MOV     A,#0x1
   \   000080   8001         SJMP    ??Get_power_6
    927             else
    928             POW_sta[2]=0x00;
   \                     ??Get_power_5:
   \   000082   E4           CLR     A
   \                     ??Get_power_6:
   \   000083   F0           MOVX    @DPTR,A
    929          }
   \   000084   02....       LJMP    ??Subroutine26_0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine21:
   \   000000   FA           MOV     R2,A
   \   000001   E9           MOV     A,R1
   \   000002   34FD         ADDC    A,#-0x3
   \   000004   FB           MOV     R3,A
   \   000005   C3           CLR     C
   \   000006   EA           MOV     A,R2
   \   000007   9463         SUBB    A,#0x63
   \   000009   EB           MOV     A,R3
   \   00000A   9400         SUBB    A,#0x0
   \   00000C   22           RET
    930          #endif
    931          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    932          void Get_PM25(void)
   \                     Get_PM25:
    933          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 0
    934           //获取PM25和PM03(1)数值，获取的是大气中的值
    935             osal_memcpy(PM25_data+1,Pm25_up.data_core.pm25_dq,2);
   \   000005                ; Setup parameters for call to function osal_memcpy
   \   000005   75....       MOV     ?V0 + 0,#(Pm25_up + 12) & 0xff
   \   000008   75....       MOV     ?V0 + 1,#((Pm25_up + 12) >> 8) & 0xff
   \   00000B   75..00       MOV     ?V0 + 2,#0x0
   \   00000E   78..         MOV     R0,#?V0 + 0
   \   000010   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000013   7C02         MOV     R4,#0x2
   \   000015   7D00         MOV     R5,#0x0
   \   000017   7A..         MOV     R2,#(PM25_data + 1) & 0xff
   \   000019   7B..         MOV     R3,#((PM25_data + 1) >> 8) & 0xff
   \   00001B   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_79:
   \   00001E   12....       LCALL   ?DEALLOC_XSTACK8
    936             osal_memcpy(PM03_data+1,Pm25_up.data_core.pm1_dq,2);
   \   000021                ; Setup parameters for call to function osal_memcpy
   \   000021   75....       MOV     ?V0 + 0,#(Pm25_up + 10) & 0xff
   \   000024   75....       MOV     ?V0 + 1,#((Pm25_up + 10) >> 8) & 0xff
   \   000027   78..         MOV     R0,#?V0 + 0
   \   000029   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00002C   7C02         MOV     R4,#0x2
   \   00002E   7D00         MOV     R5,#0x0
   \   000030   7A..         MOV     R2,#(PM03_data + 1) & 0xff
   \   000032   7B..         MOV     R3,#((PM03_data + 1) >> 8) & 0xff
   \   000034                REQUIRE ?Subroutine5
   \   000034                ; // Fall through to label ?Subroutine5
    937          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_80:
   \   000003   02....       LJMP    ??Subroutine35_0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    938          void Get_TEM_HUM()
   \                     Get_TEM_HUM:
    939          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 0
    940            SHT11_Finish();//获取温湿度
   \   000005                ; Setup parameters for call to function SHT11_Finish
   \   000005   12....       LCALL   ??SHT11_Finish?relay
    941            /*直接获取值
    942            osal_memcpy(TEM_data+1,SHT11.Temp_byte,2);
    943            osal_memcpy(HUM_data+1,SHT11.Humi_byte,2);
    944            */
    945            //新协议基础值加03 E8
    946            //uint16 data_sh=SHT11.Temp+0x03E6;
    947            uint16 data_sh=SHT11.Temp_byte[1]+0x03E7;
   \   000008   90....       MOV     DPTR,#SHT11 + 1
   \   00000B   E0           MOVX    A,@DPTR
   \   00000C   24E7         ADD     A,#-0x19
   \   00000E   F8           MOV     R0,A
   \   00000F   E4           CLR     A
   \   000010   3403         ADDC    A,#0x3
    948            TEM_data[1]=(data_sh>>8)&0xff;
   \   000012   90....       MOV     DPTR,#TEM_data + 1
   \   000015   F0           MOVX    @DPTR,A
    949            TEM_data[2]=data_sh&0xff;
   \   000016   E8           MOV     A,R0
   \   000017   A3           INC     DPTR
   \   000018   F0           MOVX    @DPTR,A
    950            osal_memcpy(HUM_data+1,SHT11.Humi_byte,2);
   \   000019                ; Setup parameters for call to function osal_memcpy
   \   000019   75....       MOV     ?V0 + 0,#(SHT11 + 2) & 0xff
   \   00001C   75....       MOV     ?V0 + 1,#((SHT11 + 2) >> 8) & 0xff
   \   00001F   75..00       MOV     ?V0 + 2,#0x0
   \   000022   78..         MOV     R0,#?V0 + 0
   \   000024   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000027   7C02         MOV     R4,#0x2
   \   000029   7D00         MOV     R5,#0x0
   \   00002B   7A..         MOV     R2,#(HUM_data + 1) & 0xff
   \   00002D   7B..         MOV     R3,#((HUM_data + 1) >> 8) & 0xff
   \   00002F   80..         SJMP    ?Subroutine5
    951            /*
    952            uint16 data_hum=SHT11.Humi;
    953            HUM_data[1]=(data_hum>>8)&0xff;
    954            HUM_data[2]=data_hum&0xff;
    955            */
    956          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    957          void Confirm_up_process(void)
   \                     Confirm_up_process:
    958          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    959            unsigned char chec_buf[2];
    960            uint16 chec_int=0;
   \   00000A   7E00         MOV     R6,#0x0
   \   00000C   7F00         MOV     R7,#0x0
    961            int i;
    962            osal_memcpy(Confirm_up.data_core.Head_byte,Headline,2);
   \   00000E                ; Setup parameters for call to function osal_memcpy
   \   00000E   75....       MOV     ?V0 + 0,#Headline & 0xff
   \   000011   75....       MOV     ?V0 + 1,#(Headline >> 8) & 0xff
   \   000014   8E..         MOV     ?V0 + 2,R6
   \   000016   78..         MOV     R0,#?V0 + 0
   \   000018   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00001B   7C02         MOV     R4,#0x2
   \   00001D   7D00         MOV     R5,#0x0
   \   00001F   7A..         MOV     R2,#Confirm_up & 0xff
   \   000021   7B..         MOV     R3,#(Confirm_up >> 8) & 0xff
   \   000023   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_81:
   \   000026   12....       LCALL   ?DEALLOC_XSTACK8
    963            osal_memcpy(Confirm_up.data_core.Data_length,Confirm_up_len,2);
   \   000029                ; Setup parameters for call to function osal_memcpy
   \   000029   75....       MOV     ?V0 + 0,#Confirm_up_len & 0xff
   \   00002C   75....       MOV     ?V0 + 1,#(Confirm_up_len >> 8) & 0xff
   \   00002F   78..         MOV     R0,#?V0 + 0
   \   000031   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000034   7C02         MOV     R4,#0x2
   \   000036   7D00         MOV     R5,#0x0
   \   000038   7A..         MOV     R2,#(Confirm_up + 2) & 0xff
   \   00003A   7B..         MOV     R3,#((Confirm_up + 2) >> 8) & 0xff
   \   00003C   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_82:
   \   00003F   12....       LCALL   ?DEALLOC_XSTACK8
    964            Confirm_up.data_core.Data_type=0x0B;
   \   000042   90....       MOV     DPTR,#Confirm_up + 4
   \   000045   740B         MOV     A,#0xb
   \   000047   12....       LCALL   ?Subroutine8 & 0xFFFF
    965            osal_memcpy(Confirm_up.data_core.MAC_addr,Dev_mac,4);
   \                     ??CrossCallReturnLabel_3:
   \   00004A   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00004D   7C04         MOV     R4,#0x4
   \   00004F   7D00         MOV     R5,#0x0
   \   000051   7A..         MOV     R2,#(Confirm_up + 5) & 0xff
   \   000053   7B..         MOV     R3,#((Confirm_up + 5) >> 8) & 0xff
   \   000055   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_83:
   \   000058   12....       LCALL   ?DEALLOC_XSTACK8
    966            for(i=0;i<11;i++)
   \   00005B   7800         MOV     R0,#0x0
   \   00005D   7900         MOV     R1,#0x0
    967            {
    968              chec_int=chec_int+Confirm_up.data_buf[2+i];
   \                     ??Confirm_up_process_0:
   \   00005F   74..         MOV     A,#(Confirm_up + 2) & 0xff
   \   000061   28           ADD     A,R0
   \   000062   F582         MOV     DPL,A
   \   000064   74..         MOV     A,#((Confirm_up + 2) >> 8) & 0xff
   \   000066   12....       LCALL   ?Subroutine12 & 0xFFFF
    969            } 
   \                     ??CrossCallReturnLabel_11:
   \   000069   940B         SUBB    A,#0xb
   \   00006B   12....       LCALL   ??Subroutine31_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_98:
   \   00006E   40EF         JC      ??Confirm_up_process_0
    970            chec_buf[0]=chec_int>>8;
   \   000070   EF           MOV     A,R7
   \   000071   85..82       MOV     DPL,?XSP + 0
   \   000074   85..83       MOV     DPH,?XSP + 1
   \   000077   F0           MOVX    @DPTR,A
    971            chec_buf[1]=chec_int;
   \   000078   7401         MOV     A,#0x1
   \   00007A   12....       LCALL   ?XSTACK_DISP0_8
   \   00007D   12....       LCALL   ?Subroutine7 & 0xFFFF
    972            osal_memcpy(Confirm_up.data_core.Check_code,chec_buf,2);
   \                     ??CrossCallReturnLabel_36:
   \   000080   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000083   7C02         MOV     R4,#0x2
   \   000085   7D00         MOV     R5,#0x0
   \   000087   7A..         MOV     R2,#(Confirm_up + 9) & 0xff
   \   000089   7B..         MOV     R3,#((Confirm_up + 9) >> 8) & 0xff
   \   00008B   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_84:
   \   00008E   12....       LCALL   ?DEALLOC_XSTACK8
    973            osal_memcpy(Confirm_up.data_core.Tial,Tialline,2);
   \   000091                ; Setup parameters for call to function osal_memcpy
   \   000091   75....       MOV     ?V0 + 0,#Tialline & 0xff
   \   000094   75....       MOV     ?V0 + 1,#(Tialline >> 8) & 0xff
   \   000097   78..         MOV     R0,#?V0 + 0
   \   000099   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00009C   7C02         MOV     R4,#0x2
   \   00009E   7D00         MOV     R5,#0x0
   \   0000A0   7A..         MOV     R2,#(Confirm_up + 11) & 0xff
   \   0000A2   7B..         MOV     R3,#((Confirm_up + 11) >> 8) & 0xff
   \   0000A4   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_85:
   \   0000A7   12....       LCALL   ?DEALLOC_XSTACK8
    974            HalUARTWrite(0, Confirm_up.data_buf, 23);
   \   0000AA                ; Setup parameters for call to function HalUARTWrite
   \   0000AA   7C17         MOV     R4,#0x17
   \   0000AC   7D00         MOV     R5,#0x0
   \   0000AE   7A..         MOV     R2,#Confirm_up & 0xff
   \   0000B0   7B..         MOV     R3,#(Confirm_up >> 8) & 0xff
   \   0000B2   02....       LJMP    ?Subroutine3 & 0xFFFF
    975          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    976          void Dev_dp_process(uint8 buf[])
   \                     Dev_dp_process:
    977          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
    978            osal_memcpy(Dev_dp.data_buf,buf,13);
   \   00000E                ; Setup parameters for call to function osal_memcpy
   \   00000E   8E..         MOV     ?V0 + 0,R6
   \   000010   8F..         MOV     ?V0 + 1,R7
   \   000012   75..00       MOV     ?V0 + 2,#0x0
   \   000015   78..         MOV     R0,#?V0 + 0
   \   000017   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00001A   7C0D         MOV     R4,#0xd
   \   00001C   7D00         MOV     R5,#0x0
   \   00001E   7A..         MOV     R2,#Dev_dp & 0xff
   \   000020   7B..         MOV     R3,#(Dev_dp >> 8) & 0xff
   \   000022   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_86:
   \   000025   12....       LCALL   ?DEALLOC_XSTACK8
    979            unsigned char chec_buf[2];
    980            uint16 chec_int=0;
   \   000028   7800         MOV     R0,#0x0
   \   00002A   7900         MOV     R1,#0x0
    981            int i;
    982              for(i=0;i<7;i++)
   \   00002C   7A00         MOV     R2,#0x0
   \   00002E   7B00         MOV     R3,#0x0
    983            {
    984              chec_int=chec_int + buf[2+i];
   \                     ??Dev_dp_process_0:
   \   000030   12....       LCALL   ?Subroutine13 & 0xFFFF
    985            } 
   \                     ??CrossCallReturnLabel_12:
   \   000033   40FB         JC      ??Dev_dp_process_0
    986            chec_buf[0]=chec_int>>8;
   \   000035   E9           MOV     A,R1
   \   000036   85..82       MOV     DPL,?XSP + 0
   \   000039   85..83       MOV     DPH,?XSP + 1
   \   00003C   F0           MOVX    @DPTR,A
    987            chec_buf[1]=chec_int;
   \   00003D   7401         MOV     A,#0x1
   \   00003F   12....       LCALL   ?XSTACK_DISP0_8
   \   000042   E8           MOV     A,R0
   \   000043   12....       LCALL   ??Subroutine28_0 & 0xFFFF
    988            //判断校验位
    989            if(osal_memcmp(Dev_dp.data_core.Check_code,chec_buf,2))
   \                     ??CrossCallReturnLabel_37:
   \   000046   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000049   7C02         MOV     R4,#0x2
   \   00004B   7D00         MOV     R5,#0x0
   \   00004D   79..         MOV     R1,#(Dev_dp + 9) & 0xff
   \   00004F   7A..         MOV     R2,#((Dev_dp + 9) >> 8) & 0xff
   \   000051   7B00         MOV     R3,#0x0
   \   000053   12....       LCALL   ??Subroutine33_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_103:
   \   000056   12....       LCALL   ?DEALLOC_XSTACK8
   \   000059   E9           MOV     A,R1
   \   00005A   6029         JZ      ??Dev_dp_process_1
    990            {
    991              osal_memcpy(Dev_mac,Dev_dp.data_core.MAC_addr,4);
   \   00005C                ; Setup parameters for call to function osal_memcpy
   \   00005C   75....       MOV     ?V0 + 0,#(Dev_dp + 5) & 0xff
   \   00005F   75....       MOV     ?V0 + 1,#((Dev_dp + 5) >> 8) & 0xff
   \   000062   78..         MOV     R0,#?V0 + 0
   \   000064   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000067   7C04         MOV     R4,#0x4
   \   000069   7D00         MOV     R5,#0x0
   \   00006B   7A..         MOV     R2,#Dev_mac & 0xff
   \   00006D   7B..         MOV     R3,#(Dev_mac >> 8) & 0xff
   \   00006F   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_87:
   \   000072   12....       LCALL   ?DEALLOC_XSTACK8
    992              write_to_nvflash(&Dev_mac[3]);
   \   000075                ; Setup parameters for call to function write_to_nvflash
   \   000075   7A..         MOV     R2,#(Dev_mac + 3) & 0xff
   \   000077   7B..         MOV     R3,#((Dev_mac + 3) >> 8) & 0xff
   \   000079   12....       LCALL   ??write_to_nvflash?relay
    993              Dev_up_process(Dev_mac);//返回地址修改信息响应
   \   00007C                ; Setup parameters for call to function Dev_up_process
   \   00007C   7A..         MOV     R2,#Dev_mac & 0xff
   \   00007E   7B..         MOV     R3,#(Dev_mac >> 8) & 0xff
   \   000080   12....       LCALL   ??Dev_up_process?relay
   \   000083   800D         SJMP    ??Dev_dp_process_2
    994            }else{
    995              osal_memset(buf,0,sizeof(buf));
   \                     ??Dev_dp_process_1:
   \   000085                ; Setup parameters for call to function osal_memset
   \   000085   7C02         MOV     R4,#0x2
   \   000087   7D00         MOV     R5,#0x0
   \   000089   7900         MOV     R1,#0x0
   \   00008B   EE           MOV     A,R6
   \   00008C   FA           MOV     R2,A
   \   00008D   EF           MOV     A,R7
   \   00008E   FB           MOV     R3,A
   \   00008F   12....       LCALL   ??osal_memset?relay
    996            }
    997          }
   \                     ??Dev_dp_process_2:
   \   000092   02....       LJMP    ??Subroutine34_0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine33_0:
   \   000000   12....       LCALL   ??osal_memcmp?relay
   \   000003   7403         MOV     A,#0x3
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine13:
   \   000000   EE           MOV     A,R6
   \   000001   2A           ADD     A,R2
   \   000002   F582         MOV     DPL,A
   \   000004   EF           MOV     A,R7
   \   000005   12....       LCALL   ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_30:
   \   000008   9407         SUBB    A,#0x7
   \   00000A   EB           MOV     A,R3
   \   00000B   9400         SUBB    A,#0x0
   \   00000D   A2D2         MOV     C,0xD0 /* PSW */.2
   \   00000F   65D0         XRL     A,PSW
   \   000011   33           RLC     A
   \   000012   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine24:
   \   000000   3B           ADDC    A,R3
   \   000001   F583         MOV     DPH,A
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   E0           MOVX    A,@DPTR
   \   000006   FC           MOV     R4,A
   \   000007   E8           MOV     A,R0
   \   000008   2C           ADD     A,R4
   \   000009   F8           MOV     R0,A
   \   00000A   E9           MOV     A,R1
   \   00000B   3400         ADDC    A,#0x0
   \   00000D   F9           MOV     R1,A
   \   00000E   EA           MOV     A,R2
   \   00000F   2401         ADD     A,#0x1
   \   000011   0A           INC     R2
   \   000012   EB           MOV     A,R3
   \   000013   3400         ADDC    A,#0x0
   \   000015   FB           MOV     R3,A
   \   000016   C3           CLR     C
   \   000017   EA           MOV     A,R2
   \   000018   22           RET
    998          //修改地址信息返回

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    999          void Dev_up_process(uint8 buf[])
   \                     Dev_up_process:
   1000          {
   \   000000   74F1         MOV     A,#-0xf
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 15
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
   1001            unsigned char chec_buf[2];
   1002            uint16 chec_int=0;
   \   00000E   75..00       MOV     ?V0 + 0,#0x0
   \   000011   75..00       MOV     ?V0 + 1,#0x0
   1003            int i;
   1004            osal_memcpy(Dev_up.data_core.Head_byte,Headline,2);
   \   000014                ; Setup parameters for call to function osal_memcpy
   \   000014   75....       MOV     ?V0 + 4,#Headline & 0xff
   \   000017   75....       MOV     ?V0 + 5,#(Headline >> 8) & 0xff
   \   00001A   75..00       MOV     ?V0 + 6,#0x0
   \   00001D   78..         MOV     R0,#?V0 + 4
   \   00001F   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000022   7C02         MOV     R4,#0x2
   \   000024   7D00         MOV     R5,#0x0
   \   000026   7A..         MOV     R2,#Dev_up & 0xff
   \   000028   7B..         MOV     R3,#(Dev_up >> 8) & 0xff
   \   00002A   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_88:
   \   00002D   12....       LCALL   ?DEALLOC_XSTACK8
   1005            osal_memcpy(Dev_up.data_core.Data_length,Dev_up_len,2);
   \   000030                ; Setup parameters for call to function osal_memcpy
   \   000030   75....       MOV     ?V0 + 4,#Dev_up_len & 0xff
   \   000033   75....       MOV     ?V0 + 5,#(Dev_up_len >> 8) & 0xff
   \   000036   78..         MOV     R0,#?V0 + 4
   \   000038   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00003B   7C02         MOV     R4,#0x2
   \   00003D   7D00         MOV     R5,#0x0
   \   00003F   7A..         MOV     R2,#(Dev_up + 2) & 0xff
   \   000041   7B..         MOV     R3,#((Dev_up + 2) >> 8) & 0xff
   \   000043   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_89:
   \   000046   12....       LCALL   ?DEALLOC_XSTACK8
   1006            Dev_up.data_core.Data_type=0xFE;
   \   000049   90....       MOV     DPTR,#Dev_up + 4
   \   00004C   74FE         MOV     A,#-0x2
   \   00004E   F0           MOVX    @DPTR,A
   1007            osal_memcpy(Dev_up.data_core.MAC_addr,buf,4);
   \   00004F                ; Setup parameters for call to function osal_memcpy
   \   00004F   8E..         MOV     ?V0 + 4,R6
   \   000051   8F..         MOV     ?V0 + 5,R7
   \   000053   78..         MOV     R0,#?V0 + 4
   \   000055   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000058   7C04         MOV     R4,#0x4
   \   00005A   7D00         MOV     R5,#0x0
   \   00005C   7A..         MOV     R2,#(Dev_up + 5) & 0xff
   \   00005E   7B..         MOV     R3,#((Dev_up + 5) >> 8) & 0xff
   \   000060   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_90:
   \   000063   12....       LCALL   ?DEALLOC_XSTACK8
   1008              for(i=0;i<7;i++)
   \   000066   7800         MOV     R0,#0x0
   \   000068   7900         MOV     R1,#0x0
   1009            {
   1010              chec_int=chec_int + Dev_up.data_buf[2+i];
   \                     ??Dev_up_process_0:
   \   00006A   74..         MOV     A,#(Dev_up + 2) & 0xff
   \   00006C   28           ADD     A,R0
   \   00006D   F582         MOV     DPL,A
   \   00006F   74..         MOV     A,#((Dev_up + 2) >> 8) & 0xff
   \   000071   39           ADDC    A,R1
   \   000072   F583         MOV     DPH,A
   \   000074   E0           MOVX    A,@DPTR
   \   000075   FA           MOV     R2,A
   \   000076   E5..         MOV     A,?V0 + 0
   \   000078   2A           ADD     A,R2
   \   000079   F5..         MOV     ?V0 + 0,A
   \   00007B   E5..         MOV     A,?V0 + 1
   \   00007D   3400         ADDC    A,#0x0
   \   00007F   F5..         MOV     ?V0 + 1,A
   1011            } 
   \   000081   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_32:
   \   000084   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_100:
   \   000087   40E1         JC      ??Dev_up_process_0
   1012            chec_buf[0]=chec_int>>8;
   \   000089   85..82       MOV     DPL,?XSP + 0
   \   00008C   85..83       MOV     DPH,?XSP + 1
   \   00008F   E5..         MOV     A,?V0 + 1
   \   000091   F0           MOVX    @DPTR,A
   1013            chec_buf[1]=chec_int;
   \   000092   7401         MOV     A,#0x1
   \   000094   12....       LCALL   ?XSTACK_DISP0_8
   \   000097   E5..         MOV     A,?V0 + 0
   \   000099   12....       LCALL   ?Subroutine9 & 0xFFFF
   1014            osal_memcpy(Dev_up.data_core.Check_code,chec_buf,2);
   \                     ??CrossCallReturnLabel_4:
   \   00009C   75..00       MOV     ?V0 + 2,#0x0
   \   00009F   78..         MOV     R0,#?V0 + 0
   \   0000A1   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000A4   7C02         MOV     R4,#0x2
   \   0000A6   7D00         MOV     R5,#0x0
   \   0000A8   7A..         MOV     R2,#(Dev_up + 9) & 0xff
   \   0000AA   7B..         MOV     R3,#((Dev_up + 9) >> 8) & 0xff
   \   0000AC   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_91:
   \   0000AF   12....       LCALL   ?DEALLOC_XSTACK8
   1015            osal_memcpy(Dev_up.data_core.Tial,Tialline,2);
   \   0000B2                ; Setup parameters for call to function osal_memcpy
   \   0000B2   75....       MOV     ?V0 + 0,#Tialline & 0xff
   \   0000B5   75....       MOV     ?V0 + 1,#(Tialline >> 8) & 0xff
   \   0000B8   78..         MOV     R0,#?V0 + 0
   \   0000BA   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000BD   7C02         MOV     R4,#0x2
   \   0000BF   7D00         MOV     R5,#0x0
   \   0000C1   7A..         MOV     R2,#(Dev_up + 11) & 0xff
   \   0000C3   7B..         MOV     R3,#((Dev_up + 11) >> 8) & 0xff
   \   0000C5   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_92:
   \   0000C8   12....       LCALL   ?DEALLOC_XSTACK8
   1016            HalUARTWrite(0, Dev_up.data_buf, 13);
   \   0000CB                ; Setup parameters for call to function HalUARTWrite
   \   0000CB   7C0D         MOV     R4,#0xd
   \   0000CD   7D00         MOV     R5,#0x0
   \   0000CF   7A..         MOV     R2,#Dev_up & 0xff
   \   0000D1   7B..         MOV     R3,#(Dev_up >> 8) & 0xff
   \   0000D3   7900         MOV     R1,#0x0
   \   0000D5   12....       LCALL   ??HalUARTWrite?relay
   1017          }
   \   0000D8   7402         MOV     A,#0x2
   \   0000DA   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000DD   7F07         MOV     R7,#0x7
   \   0000DF   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_40:
   \   000003   22           RET
   1018          //处理控制开关命令

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1019          void Dev_control_process(uint8 buf[])
   \                     Dev_control_process:
   1020          {
   \   000000   74EA         MOV     A,#-0x16
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 22
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 12,R2
   \   00000C   8B..         MOV     ?V0 + 13,R3
   1021            osal_memcpy(Dev_ctl.data_buf,buf,24);
   \   00000E   8A..         MOV     ?V0 + 4,R2
   \   000010   8B..         MOV     ?V0 + 5,R3
   \   000012   75..00       MOV     ?V0 + 6,#0x0
   \   000015                ; Setup parameters for call to function osal_memcpy
   \   000015   78..         MOV     R0,#?V0 + 4
   \   000017   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00001A   7C18         MOV     R4,#0x18
   \   00001C   7D00         MOV     R5,#0x0
   \   00001E   7A..         MOV     R2,#Dev_ctl & 0xff
   \   000020   7B..         MOV     R3,#(Dev_ctl >> 8) & 0xff
   \   000022   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_93:
   \   000025   12....       LCALL   ?DEALLOC_XSTACK8
   1022            unsigned char chec_buf[2];
   1023            uint16 chec_int=0;
   \   000028   7800         MOV     R0,#0x0
   \   00002A   7900         MOV     R1,#0x0
   1024            uint8 cmd_state=0;//0表示关机，1表示开机
   \   00002C   7E00         MOV     R6,#0x0
   1025            int i;
   1026              for(i=0;i<18;i++)
   \   00002E   7A00         MOV     R2,#0x0
   \   000030   7B00         MOV     R3,#0x0
   1027            {
   1028              chec_int=chec_int + buf[2+i];
   \                     ??Dev_control_process_0:
   \   000032   E5..         MOV     A,?V0 + 12
   \   000034   2A           ADD     A,R2
   \   000035   F582         MOV     DPL,A
   \   000037   E5..         MOV     A,?V0 + 13
   \   000039   12....       LCALL   ?Subroutine24 & 0xFFFF
   1029            } 
   \                     ??CrossCallReturnLabel_29:
   \   00003C   9412         SUBB    A,#0x12
   \   00003E   EB           MOV     A,R3
   \   00003F   12....       LCALL   ??Subroutine32_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_95:
   \   000042   40EE         JC      ??Dev_control_process_0
   1030            chec_buf[0]=chec_int>>8;
   \   000044   E9           MOV     A,R1
   \   000045   85..82       MOV     DPL,?XSP + 0
   \   000048   85..83       MOV     DPH,?XSP + 1
   \   00004B   F0           MOVX    @DPTR,A
   1031            chec_buf[1]=chec_int;
   \   00004C   7401         MOV     A,#0x1
   \   00004E   12....       LCALL   ?XSTACK_DISP0_8
   \   000051   E8           MOV     A,R0
   \   000052   12....       LCALL   ?Subroutine9 & 0xFFFF
   1032            //判断校验位
   1033            if(osal_memcmp(Dev_ctl.data_core.Check_code,chec_buf,2))
   \                     ??CrossCallReturnLabel_5:
   \   000055   8E..         MOV     ?V0 + 2,R6
   \   000057   78..         MOV     R0,#?V0 + 0
   \   000059   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00005C   7C02         MOV     R4,#0x2
   \   00005E   7D00         MOV     R5,#0x0
   \   000060   79..         MOV     R1,#(Dev_ctl + 20) & 0xff
   \   000062   7A..         MOV     R2,#((Dev_ctl + 20) >> 8) & 0xff
   \   000064   7B00         MOV     R3,#0x0
   \   000066   12....       LCALL   ??Subroutine33_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_104:
   \   000069   12....       LCALL   ?DEALLOC_XSTACK8
   \   00006C   E9           MOV     A,R1
   \   00006D   7003         JNZ     $+5
   \   00006F   02....       LJMP    ??Dev_control_process_1 & 0xFFFF
   1034            {
   1035              if(osal_memcmp(Dev_ctl.data_core.MAC_addr,Dev_mac,4))
   \   000072                ; Setup parameters for call to function osal_memcmp
   \   000072   75....       MOV     ?V0 + 0,#Dev_mac & 0xff
   \   000075   75....       MOV     ?V0 + 1,#(Dev_mac >> 8) & 0xff
   \   000078   78..         MOV     R0,#?V0 + 0
   \   00007A   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00007D   7C04         MOV     R4,#0x4
   \   00007F   7D00         MOV     R5,#0x0
   \   000081   79..         MOV     R1,#(Dev_ctl + 5) & 0xff
   \   000083   7A..         MOV     R2,#((Dev_ctl + 5) >> 8) & 0xff
   \   000085   7B00         MOV     R3,#0x0
   \   000087   12....       LCALL   ??Subroutine33_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_105:
   \   00008A   12....       LCALL   ?DEALLOC_XSTACK8
   \   00008D   E9           MOV     A,R1
   \   00008E   7003         JNZ     $+5
   \   000090   02....       LJMP    ??Dev_control_process_1 & 0xFFFF
   1036              {
   1037                if(osal_memcmp(Dev_ctl.data_core.Cmd_code,Start_dev,3))
   \   000093   75....       MOV     ?V0 + 0,#(Dev_ctl + 17) & 0xff
   \   000096   75....       MOV     ?V0 + 1,#((Dev_ctl + 17) >> 8) & 0xff
   \   000099                ; Setup parameters for call to function osal_memcmp
   \   000099   75....       MOV     ?V0 + 8,#Start_dev & 0xff
   \   00009C   75....       MOV     ?V0 + 9,#(Start_dev >> 8) & 0xff
   \   00009F   8E..         MOV     ?V0 + 10,R6
   \   0000A1   78..         MOV     R0,#?V0 + 8
   \   0000A3   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000A6   12....       LCALL   ?Subroutine20 & 0xFFFF
   \                     ??CrossCallReturnLabel_101:
   \   0000A9   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000AC   E9           MOV     A,R1
   \   0000AD   600B         JZ      ??Dev_control_process_2
   1038                {
   1039                  //开机
   1040                  cmd_state=1;
   \   0000AF   0E           INC     R6
   1041                  HalLedSet ( HAL_LED_4, HAL_LED_MODE_ON );
   \   0000B0                ; Setup parameters for call to function HalLedSet
   \   0000B0   7A01         MOV     R2,#0x1
   \   0000B2   7908         MOV     R1,#0x8
   \   0000B4   12....       LCALL   ??HalLedSet?relay
   1042                  Start_process();
   \   0000B7                ; Setup parameters for call to function Start_process
   \   0000B7   12....       LCALL   ??Start_process?relay
   1043                }
   1044                if(osal_memcmp(Dev_ctl.data_core.Cmd_code,Stop_dev,3))
   \                     ??Dev_control_process_2:
   \   0000BA                ; Setup parameters for call to function osal_memcmp
   \   0000BA   75....       MOV     ?V0 + 8,#Stop_dev & 0xff
   \   0000BD   75....       MOV     ?V0 + 9,#(Stop_dev >> 8) & 0xff
   \   0000C0   78..         MOV     R0,#?V0 + 8
   \   0000C2   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000C5   12....       LCALL   ?Subroutine20 & 0xFFFF
   \                     ??CrossCallReturnLabel_102:
   \   0000C8   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000CB   E9           MOV     A,R1
   \   0000CC   600C         JZ      ??Dev_control_process_3
   1045                {
   1046                  //关机
   1047                  cmd_state=0;
   \   0000CE   7E00         MOV     R6,#0x0
   1048                  HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );
   \   0000D0                ; Setup parameters for call to function HalLedSet
   \   0000D0   7A00         MOV     R2,#0x0
   \   0000D2   7908         MOV     R1,#0x8
   \   0000D4   12....       LCALL   ??HalLedSet?relay
   1049                  Stop_process();
   \   0000D7                ; Setup parameters for call to function Stop_process
   \   0000D7   12....       LCALL   ??Stop_process?relay
   1050                }
   1051                //返回信息
   1052                osal_memcpy(Dev_ctl_res.data_buf,buf,24);
   \                     ??Dev_control_process_3:
   \   0000DA                ; Setup parameters for call to function osal_memcpy
   \   0000DA   78..         MOV     R0,#?V0 + 4
   \   0000DC   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000DF   7C18         MOV     R4,#0x18
   \   0000E1   7D00         MOV     R5,#0x0
   \   0000E3   7A..         MOV     R2,#Dev_ctl_res & 0xff
   \   0000E5   7B..         MOV     R3,#(Dev_ctl_res >> 8) & 0xff
   \   0000E7   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_94:
   \   0000EA   12....       LCALL   ?DEALLOC_XSTACK8
   1053                Dev_ctl_res.data_core.Data_type=0x06;
   \   0000ED   90....       MOV     DPTR,#Dev_ctl_res + 4
   \   0000F0   7406         MOV     A,#0x6
   \   0000F2   F0           MOVX    @DPTR,A
   1054                HalUARTWrite(0, Dev_ctl_res.data_buf, 24);
   \   0000F3                ; Setup parameters for call to function HalUARTWrite
   \   0000F3   7C18         MOV     R4,#0x18
   \   0000F5   7D00         MOV     R5,#0x0
   \   0000F7   7A..         MOV     R2,#Dev_ctl_res & 0xff
   \   0000F9   7B..         MOV     R3,#(Dev_ctl_res >> 8) & 0xff
   \   0000FB   7900         MOV     R1,#0x0
   \   0000FD   12....       LCALL   ??HalUARTWrite?relay
   1055                osal_memset(buf,0,sizeof(buf));
   \   000100                ; Setup parameters for call to function osal_memset
   \   000100   7C02         MOV     R4,#0x2
   \   000102   7D00         MOV     R5,#0x0
   \   000104   7900         MOV     R1,#0x0
   \   000106   AA..         MOV     R2,?V0 + 12
   \   000108   AB..         MOV     R3,?V0 + 13
   \   00010A   12....       LCALL   ??osal_memset?relay
   1056                if(cmd_state==1)
   \   00010D   EE           MOV     A,R6
   \   00010E   A2E0         MOV     C,0xE0 /* A   */.0
   \   000110   5015         JNC     ??Dev_control_process_4
   1057                {
   1058               //发送数据
   1059                Get_PM25();
   \   000112                ; Setup parameters for call to function Get_PM25
   \   000112   12....       LCALL   ?Subroutine15 & 0xFFFF
   1060                Get_TEM_HUM();
   1061                #ifdef POWER_TEST
   1062                Get_power();
   1063                #endif
   1064                Data_up_process(); 
   \                     ??CrossCallReturnLabel_17:
   \   000115                ; Setup parameters for call to function Data_up_process
   \   000115   12....       LCALL   ??Data_up_process?relay
   \   000118   800D         SJMP    ??Dev_control_process_4
   1065                }
   1066              }else
   1067              {
   1068                osal_memset(buf,0,sizeof(buf));
   \                     ??Dev_control_process_1:
   \   00011A                ; Setup parameters for call to function osal_memset
   \   00011A   7C02         MOV     R4,#0x2
   \   00011C   7D00         MOV     R5,#0x0
   \   00011E   7900         MOV     R1,#0x0
   \   000120   AA..         MOV     R2,?V0 + 12
   \   000122   AB..         MOV     R3,?V0 + 13
   \   000124   12....       LCALL   ??osal_memset?relay
   1069              }
   1070            }else{
   1071              osal_memset(buf,0,sizeof(buf));
   1072            }
   1073          }
   \                     ??Dev_control_process_4:
   \   000127   7402         MOV     A,#0x2
   \   000129   12....       LCALL   ?DEALLOC_XSTACK8
   \   00012C   7F0E         MOV     R7,#0xe
   \   00012E   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine20:
   \   000000   7C03         MOV     R4,#0x3
   \   000002   7D00         MOV     R5,#0x0
   \   000004   A9..         MOV     R1,?V0 + 0
   \   000006   AA..         MOV     R2,?V0 + 1
   \   000008   AB..         MOV     R3,?V0 + 2
   \   00000A                REQUIRE ??Subroutine33_0
   \   00000A                ; // Fall through to label ??Subroutine33_0
   1074          
   1075          //开机处理函数

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1076          void Start_process(void)
   \                     Start_process:
   1077          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1078            //设置周期性事件,数据采集上报
   1079            osal_stop_timerEx( GenericApp_TaskID,GENERICAPP_SEND_DATE_EVT);
   \   000004                ; Setup parameters for call to function osal_stop_timerEx
   \   000004   12....       LCALL   ?Subroutine17 & 0xFFFF
   1080            osal_start_timerEx( GenericApp_TaskID,
   1081                                  GENERICAPP_SEND_DATE_EVT,
   1082                                  GENERICAPP_SEND_DATA_TIMEOUT );
   \                     ??CrossCallReturnLabel_21:
   \   000007                ; Setup parameters for call to function osal_start_timerEx
   \   000007   12....       LCALL   ?Subroutine16 & 0xFFFF
   1083          }
   \                     ??CrossCallReturnLabel_20:
   \   00000A                REQUIRE ?Subroutine4
   \   00000A                ; // Fall through to label ?Subroutine4

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   D083         POP     DPH
   \   000002   D082         POP     DPL
   \   000004   02....       LJMP    ?BRET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine17:
   \   000000   7A10         MOV     R2,#0x10
   \   000002   7B00         MOV     R3,#0x0
   \   000004   90....       MOV     DPTR,#GenericApp_TaskID
   \   000007   E0           MOVX    A,@DPTR
   \   000008   F9           MOV     R1,A
   \   000009   12....       LCALL   ??osal_stop_timerEx?relay
   \   00000C   22           RET
   1084          //关机处理函数

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1085          void Stop_process(void)
   \                     Stop_process:
   1086          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1087            osal_stop_timerEx( GenericApp_TaskID,GENERICAPP_SEND_DATE_EVT);
   \   000004                ; Setup parameters for call to function osal_stop_timerEx
   \   000004   12....       LCALL   ?Subroutine17 & 0xFFFF
   1088          }
   \                     ??CrossCallReturnLabel_22:
   \   000007   80..         SJMP    ?Subroutine4
   1089          
   1090          
   1091          //

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1092          void Dev_heart_process (uint8 buf[])
   \                     Dev_heart_process:
   1093          {           
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
   1094            osal_memcpy(Head_up.data_buf,buf,13);
   \   00000E                ; Setup parameters for call to function osal_memcpy
   \   00000E   8E..         MOV     ?V0 + 0,R6
   \   000010   8F..         MOV     ?V0 + 1,R7
   \   000012   75..00       MOV     ?V0 + 2,#0x0
   \   000015   78..         MOV     R0,#?V0 + 0
   \   000017   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00001A   7C0D         MOV     R4,#0xd
   \   00001C   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_51:
   \   00001F   12....       LCALL   ?DEALLOC_XSTACK8
   1095            unsigned char chec_buf[2];
   1096            uint16 chec_int=0;
   \   000022   7800         MOV     R0,#0x0
   \   000024   7900         MOV     R1,#0x0
   1097            int i;
   1098              for(i=0;i<7;i++)
   \   000026   7A00         MOV     R2,#0x0
   \   000028   7B00         MOV     R3,#0x0
   1099            {
   1100              chec_int=chec_int + buf[2+i];
   \                     ??Dev_heart_process_0:
   \   00002A   12....       LCALL   ?Subroutine13 & 0xFFFF
   1101            } 
   \                     ??CrossCallReturnLabel_13:
   \   00002D   40FB         JC      ??Dev_heart_process_0
   1102            chec_buf[0]=chec_int>>8;
   \   00002F   E9           MOV     A,R1
   \   000030   85..82       MOV     DPL,?XSP + 0
   \   000033   85..83       MOV     DPH,?XSP + 1
   \   000036   F0           MOVX    @DPTR,A
   1103            chec_buf[1]=chec_int;
   \   000037   7401         MOV     A,#0x1
   \   000039   12....       LCALL   ?XSTACK_DISP0_8
   \   00003C   E8           MOV     A,R0
   \   00003D   12....       LCALL   ??Subroutine28_0 & 0xFFFF
   1104            //判断校验位
   1105            if(osal_memcmp(Head_up.data_core.Check_code,chec_buf,2))
   \                     ??CrossCallReturnLabel_38:
   \   000040   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000043   7C02         MOV     R4,#0x2
   \   000045   7D00         MOV     R5,#0x0
   \   000047   79..         MOV     R1,#(Head_up + 9) & 0xff
   \   000049   7A..         MOV     R2,#((Head_up + 9) >> 8) & 0xff
   \   00004B   7B00         MOV     R3,#0x0
   \   00004D   12....       LCALL   ??Subroutine33_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_106:
   \   000050   12....       LCALL   ?DEALLOC_XSTACK8
   \   000053   E9           MOV     A,R1
   \   000054   6042         JZ      ??Dev_heart_process_1
   1106            {
   1107              if(osal_memcmp(Head_up.data_core.MAC_addr,Dev_mac,4))
   \   000056                ; Setup parameters for call to function osal_memcmp
   \   000056   75....       MOV     ?V0 + 0,#Dev_mac & 0xff
   \   000059   75....       MOV     ?V0 + 1,#(Dev_mac >> 8) & 0xff
   \   00005C   78..         MOV     R0,#?V0 + 0
   \   00005E   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000061   7C04         MOV     R4,#0x4
   \   000063   7D00         MOV     R5,#0x0
   \   000065   79..         MOV     R1,#(Head_up + 5) & 0xff
   \   000067   7A..         MOV     R2,#((Head_up + 5) >> 8) & 0xff
   \   000069   7B00         MOV     R3,#0x0
   \   00006B   12....       LCALL   ??Subroutine33_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_107:
   \   00006E   12....       LCALL   ?DEALLOC_XSTACK8
   \   000071   E9           MOV     A,R1
   \   000072   6024         JZ      ??Dev_heart_process_1
   1108              {
   1109                if(Head_up.data_core.Data_type==0x01)
   \   000074   90....       MOV     DPTR,#Head_up + 4
   \   000077   E0           MOVX    A,@DPTR
   \   000078   6401         XRL     A,#0x1
   \   00007A   700F         JNZ     ??Dev_heart_process_2
   1110                {
   1111                 HalLedSet ( HAL_LED_4, HAL_LED_MODE_ON );//开启PM2.5
   \   00007C                ; Setup parameters for call to function HalLedSet
   \   00007C   7A01         MOV     R2,#0x1
   \   00007E   7908         MOV     R1,#0x8
   \   000080   12....       LCALL   ??HalLedSet?relay
   1112                 // osal_stop_timerEx( GenericApp_TaskID,GENERICAPP_SEND_DATE_EVT);
   1113                  running_state=1; //收到串口数据，系统运行
   \   000083   90....       MOV     DPTR,#running_state
   \   000086   7401         MOV     A,#0x1
   \                     ??Dev_heart_process_3:
   \   000088   F0           MOVX    @DPTR,A
   \   000089   801A         SJMP    ??Dev_heart_process_4
   1114                }
   1115                else
   1116                {
   1117                  HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );
   \                     ??Dev_heart_process_2:
   \   00008B                ; Setup parameters for call to function HalLedSet
   \   00008B   7A00         MOV     R2,#0x0
   \   00008D   7908         MOV     R1,#0x8
   \   00008F   12....       LCALL   ??HalLedSet?relay
   1118                  running_state=0;
   \   000092   90....       MOV     DPTR,#running_state
   \   000095   E4           CLR     A
   \   000096   80F0         SJMP    ??Dev_heart_process_3
   1119                }
   1120              }
   1121              else
   1122              {
   1123                osal_memset(buf,0,sizeof(buf));
   \                     ??Dev_heart_process_1:
   \   000098                ; Setup parameters for call to function osal_memset
   \   000098   7C02         MOV     R4,#0x2
   \   00009A   7D00         MOV     R5,#0x0
   \   00009C   7900         MOV     R1,#0x0
   \   00009E   EE           MOV     A,R6
   \   00009F   FA           MOV     R2,A
   \   0000A0   EF           MOV     A,R7
   \   0000A1   FB           MOV     R3,A
   \   0000A2   12....       LCALL   ??osal_memset?relay
   1124              }
   1125            }else
   1126            {
   1127              osal_memset(buf,0,sizeof(buf));
   1128            }
   1129          }
   \                     ??Dev_heart_process_4:
   \   0000A5   80..         SJMP    ??Subroutine34_0
   1130          
   1131          //休眠处理函数

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1132          void Sleep_cmd(void)
   \                     Sleep_cmd:
   1133          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1134             if(running_state==1)
   \   000004   90....       MOV     DPTR,#running_state
   \   000007   E0           MOVX    A,@DPTR
   \   000008   6401         XRL     A,#0x1
   \   00000A   600A         JZ      ??Sleep_cmd_0
   1135              {
   1136                //系统运行,蓝牙保持连接
   1137                //HalLedSet ( HAL_LED_3, HAL_LED_MODE_ON );//开启电源
   1138               /* osal_start_timerEx( GenericApp_TaskID,
   1139                                  GENERICAPP_SEND_DATE_EVT,
   1140                                  GENERICAPP_SEND_DATA_TIMEOUT );
   1141                HalLedSet ( HAL_LED_4, HAL_LED_MODE_ON );//开启PM2.5
   1142                */
   1143              }else
   1144              {
   1145                  osal_stop_timerEx( GenericApp_TaskID,GENERICAPP_SEND_DATE_EVT);
   \   00000C                ; Setup parameters for call to function osal_stop_timerEx
   \   00000C   12....       LCALL   ?Subroutine17 & 0xFFFF
   1146                  HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );//关闭PM2.5
   \                     ??CrossCallReturnLabel_23:
   \   00000F                ; Setup parameters for call to function HalLedSet
   \   00000F   7A00         MOV     R2,#0x0
   \   000011   7908         MOV     R1,#0x8
   \   000013   12....       LCALL   ??HalLedSet?relay
   1147          
   1148              }
   1149          }
   \                     ??Sleep_cmd_0:
   \   000016   02....       LJMP    ?Subroutine4 & 0xFFFF

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for PM25_data>`:
   \   000000   01           DB 1
   \   000001   00           DB 0
   \   000002   00           DB 0

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for PM03_data>`:
   \   000000   0E           DB 14
   \   000001   00           DB 0
   \   000002   00           DB 0

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for TEM_data>`:
   \   000000   03           DB 3
   \   000001   00           DB 0
   \   000002   00           DB 0

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for HUM_data>`:
   \   000000   04           DB 4
   \   000001   00           DB 0
   \   000002   00           DB 0

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for Headline>`:
   \   000000   EB           DB 235
   \   000001   90           DB 144

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for Tialline>`:
   \   000000   0D           DB 13
   \   000001   0A           DB 10

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for Head_up_len>`:
   \   000000   00           DB 0
   \   000001   0B           DB 11

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for Rejest_up_len>`:
   \   000000   00           DB 0
   \   000001   14           DB 20

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for Data_up_len>`:
   \   000000   00           DB 0
   \   000001   1D           DB 29

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for Confirm_up_len>`:
   \   000000   00           DB 0
   \   000001   0B           DB 11

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for Dev_up_len>`:
   \   000000   00           DB 0
   \   000001   0B           DB 11

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for Soft_version>`:
   \   000000   01           DB 1
   \   000001   00           DB 0
   \   000002   00           DB 0

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for Hard_version>`:
   \   000000   01           DB 1
   \   000001   00           DB 0
   \   000002   00           DB 0

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for Time_set>`:
   \   000000   00           DB 0
   \   000001   00           DB 0
   \   000002   1E           DB 30

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for Start_dev>`:
   \   000000   81           DB 129
   \   000001   00           DB 0
   \   000002   0A           DB 10

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for Stop_dev>`:
   \   000000   81           DB 129
   \   000001   00           DB 0
   \   000002   0B           DB 11

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_ProcessEvent?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_ProcessEvent

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_ProcessZDOMsgs?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_ProcessZDOMsgs

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_HandleKeys?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_HandleKeys

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_MessageMSGCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_MessageMSGCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_SendTheMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_SendTheMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_HandleCombineKeys?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_HandleCombineKeys

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??rxCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    rxCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Process_data?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Process_data

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??rxCB1?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    rxCB1

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Crc16?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Crc16

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??write_to_nvflash?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    write_to_nvflash

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??read_from_nvflash?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    read_from_nvflash

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Heart_up?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Heart_up

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Regest_dev?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Regest_dev

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Data_up_process?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Data_up_process

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Get_power?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Get_power

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Get_PM25?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Get_PM25

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Get_TEM_HUM?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Get_TEM_HUM

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Confirm_up_process?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Confirm_up_process

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Dev_dp_process?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Dev_dp_process

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Dev_up_process?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Dev_up_process

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Dev_control_process?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Dev_control_process

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Start_process?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Start_process

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Stop_process?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Stop_process

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Dev_heart_process?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Dev_heart_process

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Sleep_cmd?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Sleep_cmd

   Maximum stack usage in bytes:

     Function                       ISTACK PSTACK XSTACK
     --------                       ------ ------ ------
     Confirm_up_process                 1      0     16
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> HalUARTWrite                  0      0     26
     Crc16                              0      0     12
     Data_up_process                    1      0     40
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> HalUARTWrite                  0      0     26
     Dev_control_process                1      0     27
       -> osal_memcpy                   0      0     54
       -> osal_memcmp                   0      0     54
       -> osal_memcmp                   0      0     54
       -> osal_memcmp                   0      0     54
       -> HalLedSet                     0      0     48
       -> Start_process                 0      0     48
       -> osal_memcmp                   0      0     54
       -> HalLedSet                     0      0     48
       -> Stop_process                  0      0     48
       -> osal_memcpy                   0      0     54
       -> HalUARTWrite                  0      0     48
       -> osal_memset                   0      0     48
       -> Get_PM25                      0      0     48
       -> Get_TEM_HUM                   0      0     48
       -> Get_power                     0      0     48
       -> Data_up_process               0      0     48
       -> osal_memset                   0      0     48
     Dev_dp_process                     1      0     67
       -> osal_memcpy                   0      0     32
       -> osal_memcmp                   0      0     32
       -> osal_memcpy                   0      0     32
       -> write_to_nvflash              0      0     26
       -> Dev_up_process                0      0     26
       -> osal_memset                   0      0     26
     Dev_heart_process                  1      0     67
       -> osal_memcpy                   0      0     32
       -> osal_memcmp                   0      0     32
       -> osal_memcmp                   0      0     32
       -> HalLedSet                     0      0     26
       -> HalLedSet                     0      0     26
       -> osal_memset                   0      0     26
     Dev_up_process                     1      0     33
       -> osal_memcpy                   0      0     40
       -> osal_memcpy                   0      0     40
       -> osal_memcpy                   0      0     40
       -> osal_memcpy                   0      0     40
       -> osal_memcpy                   0      0     40
       -> HalUARTWrite                  0      0     34
     GenericApp_HandleCombineKeys       0      0     30
       -> HalLedSet                     0      0     18
       -> HalLedSet                     0      0     18
       -> HalLedSet                     0      0     18
       -> HalLedSet                     0      0     18
     GenericApp_HandleKeys              0      0     42
       -> HalLedSet                     0      0     42
       -> NLME_GetShortAddr             0      0     42
       -> ZDP_EndDeviceBindReq          0      0     60
       -> HalLedSet                     0      0     42
       -> ZDP_MatchDescReq              0      0     58
       -> halGetKeyCount                0      0     42
       -> GenericApp_HandleCombineKeys
                                        0      0     42
     GenericApp_Init                    0      0     67
       -> HalLedSet                     0      0    134
       -> HalLedSet                     0      0    134
       -> afRegister                    0      0    134
       -> RegisterForKeys               0      0    134
       -> HalUARTOpen                   0      0    134
       -> HalUARTOpen                   0      0    134
       -> read_from_nvflash             0      0    134
       -> HalAdcSetReference            0      0    134
       -> HalAdcInit                    0      0    134
       -> Regest_dev                    0      0    134
       -> osal_start_timerEx            0      0    134
     GenericApp_MessageMSGCB            0      0      0
     GenericApp_ProcessEvent            0      0     12
       -> osal_msg_receive              0      0     24
       -> GenericApp_HandleKeys         0      0     24
       -> osal_msg_deallocate           0      0     24
       -> osal_msg_receive              0      0     24
       -> Get_PM25                      0      0     24
       -> Get_TEM_HUM                   0      0     24
       -> Get_power                     0      0     24
       -> Data_up_process               0      0     24
       -> HalLedSet                     0      0     24
       -> osal_start_timerEx            0      0     24
     GenericApp_ProcessZDOMsgs          0      0     10
       -> HalLedSet                     0      0     20
       -> HalLedSet                     0      0     20
       -> ZDO_ParseEPListRsp            0      0     20
       -> HalLedSet                     0      0     20
       -> osal_mem_free                 0      0     20
     GenericApp_SendTheMessage          0      0     31
       -> AF_DataRequest                0      0     62
     Get_PM25                           0      0     38
       -> osal_memcpy                   0      0     28
       -> osal_memcpy                   0      0     28
     Get_TEM_HUM                        0      0     38
       -> SHT11_Finish                  0      0     22
       -> osal_memcpy                   0      0     28
     Get_power                          0      0     34
       -> HalAdcRead                    0      0     20
     Heart_up                           1      0     16
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> HalUARTWrite                  0      0     26
     Process_data                       0      0    106
       -> osal_memcpy                   0      0    108
       -> Dev_dp_process                0      0    102
       -> Dev_heart_process             0      0    102
       -> osal_memset                   0      0    102
     Regest_dev                         1      0     83
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> osal_memcpy                   0      0     32
       -> HalUARTWrite                  0      0     26
     Sleep_cmd                          2      0      0
       -> osal_stop_timerEx             4      0      0
       -> HalLedSet                     4      0      0
     Start_process                      2      0     24
       -> osal_stop_timerEx             4      0      0
       -> osal_start_timerEx            4      0      0
     Stop_process                       2      0     24
       -> osal_stop_timerEx             4      0      0
     read_from_nvflash                  0      0     81
       -> osal_nv_item_init             0      0     24
       -> osal_nv_read                  0      0     28
     rxCB                               0      0     55
       -> HalUARTRead                   0      0    104
       -> osal_memcpy                   0      0    110
       -> Process_data                  0      0    104
       -> osal_memset                   0      0    104
       -> osal_memset                   0      0    104
       -> osal_memcpy                   0      0    110
       -> Process_data                  0      0    104
       -> osal_memset                   0      0    104
     rxCB1                              0      0     54
       -> HalUARTRead                   0      0    102
       -> osal_memcpy                   0      0    108
       -> osal_memset                   0      0    102
       -> osal_memset                   0      0    102
     write_to_nvflash                   0      0     29
       -> osal_nv_item_init             0      0     28
       -> osal_nv_write                 0      0     32


   Segment part sizes:

     Function/Label                       Bytes
     --------------                       -----
     GenericApp_ClusterList                  2
     GenericApp_SimpleDesc                  12
     GenericApp_epDesc                       6
     GenericApp_TaskID                       1
     GenericApp_NwkState                     1
     GenericApp_TransID                      1
     GenericApp_DstAddr                     12
     RxBuf                                  81
     running_state                           1
     Crc_tmp                                 2
     Min_time_cnt                            1
     Dev_mac                                 4
     POW_data                                3
     POW_sta                                 3
     PM25_data                               3
     PM03_data                               3
     TEM_data                                3
     HUM_data                                3
     Headline                                2
     Tialline                                2
     Head_up_len                             2
     Rejest_up_len                           2
     Data_up_len                             2
     Confirm_up_len                          2
     Dev_up_len                              2
     Soft_version                            3
     Hard_version                            3
     Time_set                                3
     Start_dev                               3
     Stop_dev                                3
     Receivebuf                             40
     Rece_len                                1
     Head_up                                13
     Rejest_up                              22
     Data_up                                31
     Confirm_up                             13
     Time_dp                                19
     Dev_dp                                 13
     Dev_up                                 13
     Pm25_up                                32
     Dev_ctl                                24
     Dev_ctl_res                            24
     GenericApp_Init                       283
     ?Subroutine0                            5
     ?Subroutine16                          17
     ?Subroutine23                           8
     ?Subroutine11                           2
     ??Subroutine29_0                        5
     GenericApp_ProcessEvent               145
     ??Subroutine27_0                        5
     ?Subroutine15                          10
     GenericApp_ProcessZDOMsgs             156
     ??Subroutine26_0                        5
     GenericApp_HandleKeys                 231
     ?Subroutine10                           9
     ?Subroutine1                            3
     GenericApp_MessageMSGCB                 3
     ?Subroutine2                            3
     GenericApp_SendTheMessage             102
     GenericApp_HandleCombineKeys           53
     rxCB                                  204
     ?Subroutine14                          22
     ??Subroutine30_0                        6
     Process_data                          122
     ?Subroutine6                            5
     ??Subroutine35_0                        8
     rxCB1                                  96
     Crc16                                  89
     write_to_nvflash                       64
     read_from_nvflash                      69
     Heart_up                              173
     ?Subroutine7                            1
     ??Subroutine28_0                        6
     ?Subroutine12                          16
     ?Subroutine25                          11
     ?Subroutine8                           10
     ?Subroutine18                           6
     ?Subroutine19                           2
     ??Subroutine31_0                        1
     ??Subroutine32_0                        8
     ?Subroutine22                          16
     ?Subroutine3                            5
     ??Subroutine34_0                        2
     Regest_dev                            256
     Data_up_process                       331
     Get_power                             135
     ?Subroutine21                          13
     Get_PM25                               52
     ?Subroutine5                            6
     Get_TEM_HUM                            49
     Confirm_up_process                    181
     Dev_dp_process                        149
     ??Subroutine33_0                        6
     ?Subroutine13                          19
     ?Subroutine24                          25
     Dev_up_process                        226
     ?Subroutine9                            4
     Dev_control_process                   305
     ?Subroutine20                          10
     Start_process                          10
     ?Subroutine4                            7
     ?Subroutine17                          13
     Stop_process                            9
     Dev_heart_process                     167
     Sleep_cmd                              25
     ?<Initializer for PM25_data>            3
     ?<Initializer for PM03_data>            3
     ?<Initializer for TEM_data>             3
     ?<Initializer for HUM_data>             3
     ?<Initializer for Headline>             2
     ?<Initializer for Tialline>             2
     ?<Initializer for Head_up_len>          2
     ?<Initializer for Rejest_up_len>        2
     ?<Initializer for Data_up_len>          2
     ?<Initializer for Confirm_up_len>       2
     ?<Initializer for Dev_up_len>           2
     ?<Initializer for Soft_version>         3
     ?<Initializer for Hard_version>         3
     ?<Initializer for Time_set>             3
     ?<Initializer for Start_dev>            3
     ?<Initializer for Stop_dev>             3
     ??GenericApp_Init?relay                 6
     ??GenericApp_ProcessEvent?relay         6
     ??GenericApp_ProcessZDOMsgs?relay       6
     ??GenericApp_HandleKeys?relay           6
     ??GenericApp_MessageMSGCB?relay         6
     ??GenericApp_SendTheMessage?relay       6
     ??GenericApp_HandleCombineKeys?relay    6
     ??rxCB?relay                            6
     ??Process_data?relay                    6
     ??rxCB1?relay                           6
     ??Crc16?relay                           6
     ??write_to_nvflash?relay                6
     ??read_from_nvflash?relay               6
     ??Heart_up?relay                        6
     ??Regest_dev?relay                      6
     ??Data_up_process?relay                 6
     ??Get_power?relay                       6
     ??Get_PM25?relay                        6
     ??Get_TEM_HUM?relay                     6
     ??Confirm_up_process?relay              6
     ??Dev_dp_process?relay                  6
     ??Dev_up_process?relay                  6
     ??Dev_control_process?relay             6
     ??Start_process?relay                   6
     ??Stop_process?relay                    6
     ??Dev_heart_process?relay               6
     ??Sleep_cmd?relay                       6

 
 3 985 bytes in segment BANKED_CODE
   162 bytes in segment BANK_RELAYS
    41 bytes in segment XDATA_I
    41 bytes in segment XDATA_ID
    14 bytes in segment XDATA_ROM_C
   361 bytes in segment XDATA_Z
 
 4 188 bytes of CODE  memory
    14 bytes of CONST memory
   402 bytes of XDATA memory

Errors: none
Warnings: none
